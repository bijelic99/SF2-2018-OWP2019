(function(e){function t(t){for(var a,o,s=t[0],c=t[1],l=t[2],m=0,d=[];m<s.length;m++)o=s[m],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&d.push(n[o][0]),n[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(d.length)d.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],a=!0,s=1;s<r.length;s++){var c=r[s];0!==n[c]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=r[0]))}return e}var a={},n={app:0},i=[];function o(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=a,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(r,a,function(t){return e[t]}.bind(null,a));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/Bioskop/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"11ab":function(e,t,r){},"27a1":function(e,t,r){},"2ca3":function(e,t,r){},"2dfa":function(e,t,r){"use strict";var a=r("11ab"),n=r.n(a);n.a},4230:function(e,t,r){},"44f8":function(e,t,r){"use strict";var a=r("90f5"),n=r.n(a);n.a},4678:function(e,t,r){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(e){var t=i(e);return r(t)}function i(e){if(!r.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=i,e.exports=n,n.id="4678"},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("Toolbar"),r("v-content",[r("router-view")],1),r("v-footer",{staticClass:"primary",attrs:{elevation:24,app:"",inset:"",height:"auto"}},[r("v-col",{staticClass:"text-center white--text",attrs:{cols:"12"}},[e._v(" "+e._s((new Date).getFullYear())+" â€” "),r("strong",[e._v("Dejan Bijelic")])])],1)],1)},i=[],o=(r("a4d3"),r("4de4"),r("caad"),r("e439"),r("dbb4"),r("b64b"),r("2532"),r("159b"),r("96cf"),r("1da1")),s=r("ade3"),c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-app-bar",{staticClass:"pr-12",attrs:{app:"","elevate-on-scroll":"",dark:"",color:"primary"}},[r("v-app-bar-nav-icon",{on:{click:function(t){e.navigationDrawerData.open=!e.navigationDrawerData.open}}}),r("v-toolbar-title",[e._v("Bioskop")]),r("v-spacer"),r("v-menu",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-btn",e._g({attrs:{icon:""}},a),[r("v-icon",[e._v("mdi-dots-vertical")]),e.getIsLoggedIn?r("span",[e._v(e._s(e.getCurrentUserUsername))]):r("span",[e._v("Registruj se")])],1)]}}])},[r("v-card",[r("v-list",[r("v-list-item",[r("v-list-item-content",{class:e.getIsLoggedIn?"w-25":""},[e.getIsLoggedIn?r("span",{staticClass:"no-underline"},[r("v-icon",[e._v("mdi-account")]),e._v(" "),r("router-link",{attrs:{to:"/Korisnik/"+e.getCurrentUserId}},[e._v(e._s(e.getCurrentUserUsername))])],1):r("p",[e._v(" Neke funkcionalnosti aplikacije su nedostupne neulogovanim korisnicima. "),r("br"),e._v("Prijavite se ili registrujte ako vec nemate nalog ")])])],1)],1),r("v-divider"),r("v-card-actions",[e.getIsLoggedIn?e._e():r("LoginDialog"),e.getIsLoggedIn?r("v-btn",{attrs:{text:"",color:"primary--text",to:"/Korisnik/"+e.getCurrentUserId}},[e._v("Profil")]):e._e(),r("v-spacer"),e.getIsLoggedIn?r("LogoutDialog"):e._e(),e.getIsLoggedIn?e._e():r("RegisterDialog")],1)],1)],1)],1),r("v-navigation-drawer",{attrs:{app:""},model:{value:e.navigationDrawerData.open,callback:function(t){e.$set(e.navigationDrawerData,"open",t)},expression:"navigationDrawerData.open"}},[r("v-list-item",[r("v-list-item-content",[r("v-list-item-title",{staticClass:"title"},[e._v("Bioskop")])],1)],1),r("v-divider"),r("v-list",{attrs:{dense:"",nav:""}},e._l(e.visibleNavItems,(function(t){return r("v-list-item",{key:t.title,attrs:{to:t.link,link:""}},[r("v-list-item-icon",[r("v-icon",{staticClass:"secondary--text"},[e._v(e._s(t.icon))])],1),r("v-list-item-content",[r("v-list-item-title",{staticClass:"secondary--text"},[e._v(e._s(t.title))])],1)],1)})),1)],1)],1)},l=[],u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){t.on;return[r("v-btn",{attrs:{color:"primary",dark:""},on:{click:e.openDialog}},[e._v("Registruj se")])]}}]),model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[r("v-card",[r("v-toolbar",{attrs:{dark:"",color:"primary"}},[r("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.visible=!1}}},[r("v-icon",[e._v("mdi-close")])],1),r("v-toolbar-title",[e._v("Registracija")])],1),r("v-list",{staticClass:"mx-12 mt-2"},[r("v-list-item",[r("v-list-item-content",[r("v-form",{ref:"registerForm",model:{value:e.form.valid,callback:function(t){e.$set(e.form,"valid",t)},expression:"form.valid"}},[r("v-text-field",{ref:"registerUsername",attrs:{rules:e.rules.usernameRules,label:"Username"},model:{value:e.form.data.username,callback:function(t){e.$set(e.form.data,"username",t)},expression:"form.data.username"}}),r("v-text-field",{attrs:{rules:e.rules.passwordRules,label:"Password",type:"password"},model:{value:e.form.data.password,callback:function(t){e.$set(e.form.data,"password",t)},expression:"form.data.password"}}),r("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.form.valid,color:"secondary"},on:{click:e.submit}},[e._v("Register")])],1),r("v-snackbar",{attrs:{timeout:e.componentData.snackbarGeneral.timeout,color:"error",dark:""},model:{value:e.form.usernameTaken,callback:function(t){e.$set(e.form,"usernameTaken",t)},expression:"form.usernameTaken"}},[e._v(" Username je zauzet pokusajte sa nekim drugim "),r("v-btn",{attrs:{text:""},on:{click:function(t){e.form.usernameTaken=!1}}},[e._v("Close")])],1),r("v-snackbar",{attrs:{app:"",timeout:e.componentData.snackbarGeneral.timeout,color:"success",dark:""},model:{value:e.componentData.successSnackbar.open,callback:function(t){e.$set(e.componentData.successSnackbar,"open",t)},expression:"componentData.successSnackbar.open"}},[e._v(" Uspesna Registracija "),r("v-btn",{attrs:{text:""},on:{click:function(t){e.componentData.successSnackbar.open=!1}}},[e._v("Close")])],1),r("v-snackbar",{attrs:{timeout:e.componentData.snackbarGeneral.timeout,color:"error",dark:""},model:{value:e.componentData.failSnackbar.open,callback:function(t){e.$set(e.componentData.failSnackbar,"open",t)},expression:"componentData.failSnackbar.open"}},[e._v(" Doslo je do greske "),r("v-btn",{attrs:{text:""},on:{click:function(t){e.componentData.failSnackbar.open=!1}}},[e._v("Close")])],1)],1)],1)],1)],1)],1)},m=[],d=(r("498a"),r("bc3a")),f=r.n(d),p=r("2f62");function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b={name:"RegisterDialog",data:function(){return{visible:!1,form:{valid:!0,usernameTaken:!1,data:{username:"",password:""}},rules:{usernameRules:[function(e){return e+"".trim()!==""||"Polje ne sme biti prazno"}],passwordRules:[function(e){return e+"".trim()!==""||"Polje ne sme biti prazno"},function(e){return!((e+"").trim().length<8)||"Sifra mora da ima vise od 8 karaktera"}]},componentData:{snackbarGeneral:{timeout:2e3},successSnackbar:{open:!1},failSnackbar:{open:!1}}}},methods:{openDialog:function(e){e.stopPropagation(),this.visible=!0},submit:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.checkIfUsernameAvailable(this.form.data.username);case 2:if(t=e.sent,1==t){e.next=7;break}this.form.usernameTaken=!0,e.next=18;break;case 7:if(!this.$refs.registerForm.validate()){e.next=18;break}return e.next=10,this.register();case 10:if(e.t0=e.sent,!0!==e.t0){e.next=17;break}this.componentData.successSnackbar.open=!0,this.visible=!1,this.$refs.registerForm.reset(),e.next=18;break;case 17:this.componentData.failSnackbar.open=!0;case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),register:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.form.data,r=!1,e.next=4,f.a.post("".concat(this.getFullServerAddress,"/Register"),t).then((function(e){return r=e.data.successful})).catch((function(){return r=!1}));case 4:return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),checkIfUsernameAvailable:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="",e.next=3,f.a.post("".concat(this.getFullServerAddress,"/UniqueUsername"),{username:t}).then((function(e){r=e.data.successful?e.data.successful:"Username je zauzet"})).catch((function(){return r="serverski problem"}));case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},computed:j({},Object(p["c"])(["getFullServerAddress"])),watch:{visible:function(){this.visible||(this.$refs.registerForm.reset(),this.form.valid=!1)}}},h=b,g=r("2877"),k=r("6544"),D=r.n(k),O=r("8336"),P=r("b0af"),w=r("169a"),_=r("4bd4"),y=r("132d"),x=r("8860"),z=r("da13"),V=r("5d23"),C=r("2db4"),S=r("8654"),F=r("71d9"),T=r("2a7f"),I=Object(g["a"])(h,u,m,!1,null,null,null),R=I.exports;D()(I,{VBtn:O["a"],VCard:P["a"],VDialog:w["a"],VForm:_["a"],VIcon:y["a"],VList:x["a"],VListItem:z["a"],VListItemContent:V["b"],VSnackbar:C["a"],VTextField:S["a"],VToolbar:F["a"],VToolbarTitle:T["a"]});var E=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){t.on;return[r("v-btn",{attrs:{text:""},on:{click:e.openDialog}},[e._v("LOGIN")])]}}]),model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[r("v-card",[r("v-toolbar",{attrs:{dark:"",color:"primary"}},[r("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.visible=!1}}},[r("v-icon",[e._v("mdi-close")])],1),r("v-toolbar-title",[e._v("Login")])],1),r("v-list",{staticClass:"mx-12 mt-2"},[r("v-list-item",[r("v-list-item-content",[r("v-form",{ref:"loginForm",model:{value:e.form.valid,callback:function(t){e.$set(e.form,"valid",t)},expression:"form.valid"}},[r("v-text-field",{attrs:{rules:e.formRules,label:"Username"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}}),r("v-text-field",{attrs:{rules:e.formRules,label:"Password",type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),r("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.form.valid,color:"secondary"},on:{click:e.submit}},[e._v("Login")])],1),r("v-snackbar",{attrs:{app:"",timeout:e.componentData.snackbarGeneral.timeout,color:"success",dark:""},model:{value:e.componentData.successSnackbar.open,callback:function(t){e.$set(e.componentData.successSnackbar,"open",t)},expression:"componentData.successSnackbar.open"}},[e._v(" Uspesan Login "),r("v-btn",{attrs:{text:""},on:{click:function(t){e.componentData.successSnackbar.open=!1}}},[e._v("Close")])],1),r("v-snackbar",{attrs:{timeout:e.componentData.snackbarGeneral.timeout,color:"error",dark:""},model:{value:e.componentData.failSnackbar.open,callback:function(t){e.$set(e.componentData.failSnackbar,"open",t)},expression:"componentData.failSnackbar.open"}},[e._v(" Username ili password su pogresni "),r("v-btn",{attrs:{text:""},on:{click:function(t){e.componentData.failSnackbar.open=!1}}},[e._v("Close")])],1)],1)],1)],1)],1)],1)},U=[];function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var L={name:"LoginDialog",data:function(){return{visible:!1,form:{username:"",password:"",valid:!1},formRules:[function(e){return e+"".trim()!==""||"Polje ne sme biti prazno"}],componentData:{snackbarGeneral:{timeout:2e3},successSnackbar:{open:!1},failSnackbar:{open:!1}}}},methods:$({},Object(p["b"])(["login"]),{openDialog:function(e){e.stopPropagation(),this.visible=!0},submit:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.login({username:this.form.username,password:this.form.password});case 2:if(!e.sent){e.next=9;break}this.form.username="",this.form.password="",this.componentData.successSnackbar.open=!0,this.visible=!1,e.next=11;break;case 9:this.form.password="",this.componentData.failSnackbar.open=!0;case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()})},K=L,M=Object(g["a"])(K,E,U,!1,null,null,null),B=M.exports;D()(M,{VBtn:O["a"],VCard:P["a"],VDialog:w["a"],VForm:_["a"],VIcon:y["a"],VList:x["a"],VListItem:z["a"],VListItemContent:V["b"],VSnackbar:C["a"],VTextField:S["a"],VToolbar:F["a"],VToolbarTitle:T["a"]});var N=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{persistent:"","max-width":e.$vuetify.breakpoint.mdAndDown?"80vw":"40vw"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-btn",e._g({attrs:{text:""},on:{click:e.openDialog}},a),[e._v("Logout")])]}}]),model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("Odjava")]),r("v-card-text",[e._v("Jeste li sigurni da zelite da se odjavite")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.doLogout()}}},[e._v("Da")]),r("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.visible=!1}}},[e._v("Ne")])],1)],1)],1)},q=[];function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var G={name:"LogoutDialog",data:function(){return{visible:!1}},methods:J({},Object(p["b"])(["logout"]),{openDialog:function(e){e.stopPropagation(),this.visible=!0},doLogout:function(){this.logout(),this.$router.push("/"),this.visible=!1}})},H=G,Y=r("99d9"),Q=r("2fa4"),W=Object(g["a"])(H,N,q,!1,null,null,null),X=W.exports;function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}D()(W,{VBtn:O["a"],VCard:P["a"],VCardActions:Y["a"],VCardText:Y["c"],VCardTitle:Y["d"],VDialog:w["a"],VSpacer:Q["a"]});var re={name:"Toolbar",components:{RegisterDialog:R,LoginDialog:B,LogoutDialog:X},data:function(){var e=this;return{navigationDrawerData:{open:!1,items:[{title:"Pocetna",icon:"mdi-home",link:"/",visibleForCurrentUser:function(){return!0}},{title:"Filmovi",icon:"mdi-movie",link:"/Filmovi",visibleForCurrentUser:function(){return!0}},{title:"Projekcije",icon:"mdi-movie-roll",link:"/Projekcije",visibleForCurrentUser:function(){return!0}},{title:"Rezervacija Karte",icon:"mdi-ticket",link:"/RezervacijaKarte",visibleForCurrentUser:function(){return"Obican"===e.getCurrentUserUloga}},{title:"Dodaj film",icon:"mdi-plus",link:"/AddFilm",visibleForCurrentUser:function(){return"Admin"===e.getCurrentUserUloga}},{title:"Dodaj projekciju",icon:"mdi-plus",link:"/AddProjekcija",visibleForCurrentUser:function(){return"Admin"===e.getCurrentUserUloga}},{title:"Korisnici",icon:"mdi-account-multiple",link:"/Korisnici",visibleForCurrentUser:function(){return"Admin"===e.getCurrentUserUloga}}]}}},computed:te({},Object(p["c"])(["getIsLoggedIn","getCurrentUserUloga","getCurrentUserUsername","getCurrentUserId"]),{visibleNavItems:function(){return this.navigationDrawerData.items.filter((function(e){return e.visibleForCurrentUser()}))}}),methods:{}},ae=re,ne=(r("60f8"),r("40dc")),ie=r("5bc1"),oe=r("ce7e"),se=r("34c3"),ce=r("e449"),le=r("f774"),ue=Object(g["a"])(ae,c,l,!1,null,null,null),me=ue.exports;function de(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?de(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}D()(ue,{VAppBar:ne["a"],VAppBarNavIcon:ie["a"],VBtn:O["a"],VCard:P["a"],VCardActions:Y["a"],VDivider:oe["a"],VIcon:y["a"],VList:x["a"],VListItem:z["a"],VListItemContent:V["b"],VListItemIcon:se["a"],VListItemTitle:V["d"],VMenu:ce["a"],VNavigationDrawer:le["a"],VSpacer:Q["a"],VToolbarTitle:T["a"]});var pe={name:"App",components:{Toolbar:me},data:function(){return{}},methods:fe({},Object(p["b"])(["setCurrentTheme","setCurrentThemeToBase","fetchFilmovi","fetchLoggedInUser","fetchProjekcije","fetchZauzetost"])),computed:fe({},Object(p["c"])(["getCurrentTheme"]),{currentPath:function(){return this.$route.path}}),watch:{currentPath:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.currentPath.includes("/Film/")){e.next=3;break}return e.next=3,this.setCurrentThemeToBase();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetchFilmovi();case 2:return e.next=4,this.fetchProjekcije();case 4:return e.next=6,this.fetchZauzetost();case 6:return e.next=8,this.fetchLoggedInUser();case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},ve=pe,je=r("7496"),be=r("62ad"),he=r("a75b"),ge=r("553a"),ke=Object(g["a"])(ve,n,i,!1,null,null,null),De=ke.exports;D()(ke,{VApp:je["a"],VCol:be["a"],VContent:he["a"],VFooter:ge["a"]});var Oe=r("8c4f"),Pe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",[r("v-col",{staticClass:"col-xs-12 col-sm-12 col-md-12 col-lg-3 col-xl-3"},[r("v-form",{model:{value:e.searchData.formValid,callback:function(t){e.$set(e.searchData,"formValid",t)},expression:"searchData.formValid"}},[r("v-card",[r("v-card-title",[e._v(" Pretraga: ")]),r("v-list-item",[r("v-text-field",{attrs:{label:"Naziv"},model:{value:e.searchData.naziv,callback:function(t){e.$set(e.searchData,"naziv",t)},expression:"searchData.naziv"}})],1),r("v-list-item",[r("v-text-field",{attrs:{label:"Zanr"},model:{value:e.searchData.zanr,callback:function(t){e.$set(e.searchData,"zanr",t)},expression:"searchData.zanr"}})],1),r("v-list-item",[r("v-text-field",{attrs:{rules:e.numericOnlyRule,label:"Trajanje",suffix:"sec"},model:{value:e.searchData.trajanje,callback:function(t){e.$set(e.searchData,"trajanje",t)},expression:"searchData.trajanje"}})],1),r("v-list-item",[r("v-text-field",{attrs:{rules:e.numericOnlyRule,label:"Trajanje od",suffix:"min"},model:{value:e.searchData.trajanjeOd,callback:function(t){e.$set(e.searchData,"trajanjeOd",t)},expression:"searchData.trajanjeOd"}})],1),r("v-list-item",[r("v-text-field",{attrs:{rules:e.numericOnlyRule,label:"Trajanje do",suffix:"min"},model:{value:e.searchData.trajanjeDo,callback:function(t){e.$set(e.searchData,"trajanjeDo",t)},expression:"searchData.trajanjeDo"}})],1),r("v-list-item",[r("v-text-field",{attrs:{label:"Distributer"},model:{value:e.searchData.distributer,callback:function(t){e.$set(e.searchData,"distributer",t)},expression:"searchData.distributer"}})],1),r("v-list-item",[r("v-text-field",{attrs:{label:"Zemlja porekla"},model:{value:e.searchData.zemljaPorekla,callback:function(t){e.$set(e.searchData,"zemljaPorekla",t)},expression:"searchData.zemljaPorekla"}})],1),r("v-list-item",[r("v-text-field",{attrs:{rules:e.numericOnlyRule,label:"Godina proizvodnje"},model:{value:e.searchData.godinaProizvodnje,callback:function(t){e.$set(e.searchData,"godinaProizvodnje",t)},expression:"searchData.godinaProizvodnje"}})],1),r("v-list-item",[r("v-text-field",{attrs:{rules:e.numericOnlyRule,label:"Godina proizvodnje od"},model:{value:e.searchData.godinaProizvodnjeOd,callback:function(t){e.$set(e.searchData,"godinaProizvodnjeOd",t)},expression:"searchData.godinaProizvodnjeOd"}})],1),r("v-list-item",[r("v-text-field",{attrs:{rules:e.numericOnlyRule,label:"Godina proizvodnje do"},model:{value:e.searchData.godinaProizvodnjeDo,callback:function(t){e.$set(e.searchData,"godinaProizvodnjeDo",t)},expression:"searchData.godinaProizvodnjeDo"}})],1)],1)],1)],1),r("v-col",{staticClass:"col-xs-12 col-sm-12 col-md-12 col-lg-9 col-xl-9"},[r("v-card",[r("v-card-title",[e._v(" Filmovi "),r("v-spacer"),r("v-btn",{attrs:{icon:""},on:{click:function(t){return e.refresh()}}},[r("v-icon",[e._v("mdi-refresh")])],1)],1),r("v-data-table",{attrs:{headers:e.tableData.zaglavljaTabele,search:e.tableData.search,items:e.allFilmovi,"items-per-page":20,loading:e.tableData.doneLoading,"loading-text":"Loading... Please wait","custom-filter":e.customFilterFunction},scopedSlots:e._u([{key:"item.zanrovi",fn:function(t){var a=t.item;return e._l(a.zanrovi,(function(t){return r("v-chip",{key:t.id},[e._v(e._s(t.naziv))])}))}},{key:"item.trajanje",fn:function(t){var r=t.item;return[e._v(e._s((r.trajanje-r.trajanje%60)/60)+" min. "+e._s(r.trajanje%60)+" sek.")]}},{key:"item.detaljnije",fn:function(t){var a=t.item;return[r("router-link",{attrs:{to:"/Film/"+a.id}},[e._v("Detaljnije")])]}}])})],1)],1)],1),e.getIsLoggedIn&&"Admin"===e.getCurrentUserUloga?r("AddFilmDialog"):e._e()],1)},we=[],_e=(r("a9e3"),r("25eb"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){t.on;return[r("v-btn",{attrs:{color:"secondary",bottom:"",right:"",fab:"",fixed:""},on:{click:e.openDialog}},[r("v-icon",[e._v("mdi-plus")])],1)]}}]),model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[r("v-card",[r("v-toolbar",{attrs:{dark:"",color:"primary"}},[r("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.visible=!1}}},[r("v-icon",[e._v("mdi-close")])],1)],1),r("AddFilm")],1)],1)}),ye=[],xe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",[r("h1",{staticClass:"ml-2 title"},[e._v(e._s(e.tipAkcije)+" filma:")])]),r("v-row",[r("v-form",{ref:"filmForm",staticClass:"col-md-12",model:{value:e.formData.formValid,callback:function(t){e.$set(e.formData,"formValid",t)},expression:"formData.formValid"}},[r("v-container",{attrs:{fluid:""}},[r("v-row",[r("v-col",[r("v-text-field",{attrs:{label:"Naziv",rules:e.formData.rules.nazivRules},model:{value:e.film.naziv,callback:function(t){e.$set(e.film,"naziv",t)},expression:"film.naziv"}})],1)],1),r("v-row",[r("v-col",[r("v-combobox",{attrs:{label:"Zanrovi",multiple:"",chips:"","deletable-chips":"",delimiters:[","],"hide-selected":"",items:e.zanrovi,"auto-select-first":"","search-input":e.formData.zanroviSearchInput},on:{"update:searchInput":function(t){return e.$set(e.formData,"zanroviSearchInput",t)},"update:search-input":function(t){return e.$set(e.formData,"zanroviSearchInput",t)}},model:{value:e.film.zanrovi,callback:function(t){e.$set(e.film,"zanrovi",t)},expression:"film.zanrovi"}})],1)],1),r("v-row",[r("v-col",[r("v-combobox",{attrs:{label:"Reziser",chips:"","deletable-chips":"",items:e.filmskiRadnici},model:{value:e.film.reziser,callback:function(t){e.$set(e.film,"reziser",t)},expression:"film.reziser"}})],1)],1),r("v-row",[r("v-col",[r("v-combobox",{attrs:{label:"Glumci",multiple:"",chips:"","deletable-chips":"",delimiters:[","],"hide-selected":"",items:e.filmskiRadnici,"auto-select-first":"","search-input":e.formData.glumciSearchInput},on:{"update:searchInput":function(t){return e.$set(e.formData,"glumciSearchInput",t)},"update:search-input":function(t){return e.$set(e.formData,"glumciSearchInput",t)}},model:{value:e.film.glumci,callback:function(t){e.$set(e.film,"glumci",t)},expression:"film.glumci"}})],1)],1),r("v-row",[r("v-col",[r("v-text-field",{attrs:{label:"Trajanje",rules:e.formData.rules.trajanjeRules},model:{value:e.film.trajanje,callback:function(t){e.$set(e.film,"trajanje",t)},expression:"film.trajanje"}})],1)],1),r("v-row",[r("v-col",[r("v-text-field",{attrs:{label:"Distributer",rules:e.formData.rules.distributerRules},model:{value:e.film.distributer,callback:function(t){e.$set(e.film,"distributer",t)},expression:"film.distributer"}})],1)],1),r("v-row",[r("v-col",[r("v-text-field",{attrs:{label:"Zemlja porekla",rules:e.formData.rules.zemljaPoreklaRules},model:{value:e.film.zemljaPorekla,callback:function(t){e.$set(e.film,"zemljaPorekla",t)},expression:"film.zemljaPorekla"}})],1)],1),r("v-row",[r("v-col",[r("v-text-field",{attrs:{label:"Godina proizvodnje",rules:e.formData.rules.godinaProizvodnjeRules},model:{value:e.film.godinaProizvodnje,callback:function(t){e.$set(e.film,"godinaProizvodnje",t)},expression:"film.godinaProizvodnje"}})],1)],1),r("v-row",[r("v-col",[r("v-text-field",{attrs:{label:"Link do slike"},model:{value:e.film.pathDoSlike,callback:function(t){e.$set(e.film,"pathDoSlike",t)},expression:"film.pathDoSlike"}})],1)],1),r("v-row",[r("v-col",[r("v-textarea",{attrs:{label:"Opis"},model:{value:e.film.opis,callback:function(t){e.$set(e.film,"opis",t)},expression:"film.opis"}})],1)],1),r("v-row",{attrs:{justify:"end"}},[r("v-col",{staticClass:"col-lg-2 col-md-12"},[r("v-btn",{staticClass:"secondary",attrs:{width:"100%",disabled:!e.formData.formValid},on:{click:function(t){return e.formSubmit()}}},[e._v(e._s(e.tipAkcije))])],1)],1),r("v-snackbar",{attrs:{timeout:e.snackbars.timeout},model:{value:e.snackbars.successVisible,callback:function(t){e.$set(e.snackbars,"successVisible",t)},expression:"snackbars.successVisible"}},[e._v(e._s("Izmena"===e.tipAkcije?"Uspesna Izmena":"Uspesno Dodavanje")+" "),r("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(t){e.snackbars.successVisible=!1}}},[e._v(" Close ")])],1),r("v-snackbar",{attrs:{timeout:e.snackbars.timeout},model:{value:e.snackbars.failureVisible,callback:function(t){e.$set(e.snackbars,"failureVisible",t)},expression:"snackbars.failureVisible"}},[e._v(e._s("Izmena"===e.tipAkcije?"Neuspesna izmena":"Neuspesno dodavanje")+" "),r("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(t){e.snackbars.failureVisible=!1}}},[e._v(" Close ")])],1)],1)],1)],1)],1)},ze=[];r("d81d"),r("e25e");function Ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Se={name:"AddFilm",props:{filmId:{type:Number,required:!1}},data:function(){return{tipAkcije:"",film:{id:0,naziv:"",zanrovi:[],reziser:"",glumci:[],trajanje:0,distributer:"",zemljaPorekla:"",godinaProizvodnje:0,opis:"",obrisan:!1,pathDoSlike:""},zanrovi:[],filmskiRadnici:[],formData:{formValid:!1,zanroviSearchInput:null,glumciSearchInput:null,rulePresets:{required:function(e){return e+""!==""||"Obavezno Polje"},mustBeNumber:function(e){return!!/^\d*$/.test(e)||"Mora biti ne negativan broj"},notZero:function(e){return 0!==parseInt(e)||"Mora biti vece od 0"}},rules:{nazivRules:[function(e){return e+""!==""||"Obavezno Polje"}],trajanjeRules:[function(e){return e+""!==""||"Obavezno Polje"},function(e){return!!/^\d*$/.test(e)||"Mora biti ne negativan broj"},function(e){return 0!==parseInt(e)||"Mora biti vece od 0"}],distributerRules:[function(e){return e+""!==""||"Obavezno Polje"}],zemljaPoreklaRules:[function(e){return e+""!==""||"Obavezno Polje"}],godinaProizvodnjeRules:[function(e){return e+""!==""||"Obavezno Polje"},function(e){return!!/^\d*$/.test(e)||"Mora biti ne negativan broj"},function(e){return 0!==parseInt(e)||"Mora biti vece od 0"}]}},snackbars:{timeout:4e3,successVisible:!1,failureVisible:!1}}},methods:Ce({},Object(p["b"])(["addFilm","editFilm"]),{setFilm:function(){"Izmena"===this.tipAkcije&&(this.film=JSON.parse(JSON.stringify(this.getFilm(this.filmId))),this.film.zanrovi=this.film.zanrovi.map(this.itemForCb),this.film.reziser=this.itemForCb(this.film.reziser),this.film.glumci=this.film.glumci.map(this.itemForCb))},itemForCb:function(e){var t=new Object;return t.text=e.naziv,t.value=e,t},setTipAkcije:function(){void 0!==this.filmId?this.tipAkcije="Izmena":this.tipAkcije="Dodavanje"},getZanrovi:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(this.getFullServerAddress,"/Zanrovi")).then((function(e){return e.data.map(t.itemForCb)})).catch((function(){return[]}));case 2:this.zanrovi=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getFilmskiRadnici:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(this.getFullServerAddress,"/FilmskiRadnici")).then((function(e){return e.data.map(t.itemForCb)})).catch((function(){return[]}));case 2:this.filmskiRadnici=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),formSubmit:function(){var e=JSON.parse(JSON.stringify(this.film));if(null!==e.reziser)if("string"===typeof e.reziser){var t=new Object;t.id=0,t.naziv=e.reziser,e.reziser=t}else e.reziser=e.reziser.value;else e.reziser=null;e.zanrovi=e.zanrovi.map((function(e){if("string"===typeof e){var t=new Object;return t.id=0,t.naziv=e,t}return e.value})),e.glumci=e.glumci.map((function(e){if("string"===typeof e){var t=new Object;return t.id=0,t.naziv=e,t}return e.value})),"Izmena"===this.tipAkcije?this.editFilm(e)?this.snackbars.successVisible=!0:this.snackbars.failureVisible=!0:"Dodavanje"===this.tipAkcije&&(this.addFilm(e)?(this.snackbars.successVisible=!0,this.$refs.filmForm.reset()):this.snackbars.failureVisible=!0)}}),computed:Ce({},Object(p["c"])(["getFilm","getFullServerAddress"])),watch:{filmId:function(){this.setTipAkcije(),this.setFilm()},"film.zanrovi":function(){this.formData.zanroviSearchInput=null},"film.glumci":function(){this.formData.glumciSearchInput=null}},mounted:function(){this.setTipAkcije(),this.getZanrovi(),this.getFilmskiRadnici(),this.setFilm()}},Fe=Se,Te=r("2b5d"),Ie=r("a523"),Re=r("0fd9"),Ee=r("a844"),Ue=Object(g["a"])(Fe,xe,ze,!1,null,null,null),Ae=Ue.exports;D()(Ue,{VBtn:O["a"],VCol:be["a"],VCombobox:Te["a"],VContainer:Ie["a"],VForm:_["a"],VRow:Re["a"],VSnackbar:C["a"],VTextField:S["a"],VTextarea:Ee["a"]});var $e={name:"EditFilmDialog",components:{AddFilm:Ae},data:function(){return{visible:!1}},methods:{openDialog:function(e){e.stopPropagation(),this.visible=!0}}},Le=$e,Ke=Object(g["a"])(Le,_e,ye,!1,null,null,null),Me=Ke.exports;function Be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}D()(Ke,{VBtn:O["a"],VCard:P["a"],VDialog:w["a"],VIcon:y["a"],VToolbar:F["a"]});var qe={name:"Filmovi",components:{AddFilmDialog:Me},data:function(){return{searchData:{formValid:!0,naziv:"",zanr:"",trajanje:"",trajanjeOd:"",trajanjeDo:"",distributer:"",zemljaPorekla:"",godinaProizvodnje:"",godinaProizvodnjeOd:"",godinaProizvodnjeDo:""},numericOnlyRule:[function(e){return!(!/^\d*$/.test(e)&&""!==e)||"Mora biti broj"}],tableData:{doneLoading:!1,search:"a",zaglavljaTabele:[{text:"Naziv",value:"naziv",sortable:!0,sort:function(e,t){return e.localeCompare(t)}},{text:"Zanrovi",value:"zanrovi",sortable:!0,sort:function(e,t){return console.log(e),e.length>0&&t.length>0?e[0].naziv.localeCompare(t[0].naziv)<0?-1:e[0].naziv.localeCompare(t[0].naziv)>0?1:e.length>t.length?-1:t.length>e.length?1:0:0}},{text:"Trajanje",value:"trajanje",sortable:!0,sort:function(e,t){return e>t?-1:t>e?1:0}},{text:"Distributer",value:"distributer",sortable:!0,sort:function(e,t){return e.localeCompare(t)}},{text:"Zemlja Porekla",value:"zemljaPorekla",sortable:!0,sort:function(e,t){return e.localeCompare(t)}},{text:"Godina Proizvodnje",value:"godinaProizvodnje",sortable:!0,sort:function(e,t){return e>t?-1:t>e?1:0}},{text:"Detaljnije",value:"detaljnije",sortable:!1}]}}},methods:Ne({},Object(p["b"])(["fetchFilmovi"]),{customFilterFunction:function(e,t,r){if(this.searchData.formValid){var a=!0,n=this.searchData;return""!==n.naziv&&(a=a&&r.naziv.toLowerCase().includes(n.naziv.toLowerCase())),a?(""!==n.zanr&&(a=a&&r.zanrovi.reduce((function(e,t){return e+" "+t.naziv}),"").toLowerCase().includes(n.zanr.toLowerCase())),a?(""!==n.trajanje&&(a=a&&r.trajanje===Number.parseInt(n.trajanje)),a?(""!==n.trajanjeOd&&(a=a&&r.trajanje>=60*Number.parseInt(n.trajanjeOd)),a?(""!==n.trajanjeDo&&(a=a&&r.trajanje<=60*Number.parseInt(n.trajanjeDo)),a?(""!==n.distributer&&(a=a&&r.distributer.toLowerCase().includes(n.distributer.toLowerCase())),a?(""!==n.zemljaPorekla&&(a=a&&r.zemljaPorekla.toLowerCase().includes(n.zemljaPorekla.toLowerCase())),a?(""!==n.godinaProizvodnje&&(a=a&&r.godinaProizvodnje===Number.parseInt(n.godinaProizvodnje)),a?(""!==n.godinaProizvodnjeOd&&(a=a&&r.godinaProizvodnje>=Number.parseInt(n.godinaProizvodnjeOd)),a?(""!==n.godinaProizvodnjeDo&&(a=a&&r.godinaProizvodnje<=Number.parseInt(n.godinaProizvodnjeDo)),a):a):a):a):a):a):a):a):a):a}return!1},refresh:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.tableData.doneLoading=!0,e.next=3,this.fetchFilmovi();case 3:this.tableData.doneLoading=!1;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}),computed:Object(p["c"])(["allFilmovi","getIsLoggedIn","getCurrentUserUloga"]),mounted:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.tableData.doneLoading=!0,e.next=3,this.fetchFilmovi();case 3:this.tableData.doneLoading=!1;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},Ze=qe,Je=r("cc20"),Ge=r("8fea"),He=Object(g["a"])(Ze,Pe,we,!1,null,null,null),Ye=He.exports;D()(He,{VBtn:O["a"],VCard:P["a"],VCardTitle:Y["d"],VChip:Je["a"],VCol:be["a"],VContainer:Ie["a"],VDataTable:Ge["a"],VForm:_["a"],VIcon:y["a"],VListItem:z["a"],VRow:Re["a"],VSpacer:Q["a"],VTextField:S["a"]});var Qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"fill-height px-0 pt-0",style:{backgroundColor:e.componentData.backgroundColor,color:e.componentData.textColor},attrs:{fluid:""}},[a("v-row",{staticClass:"mx-0"},[a("v-img",{ref:"coverImage",attrs:{"lazy-src":r("963b"),src:e.film.pathDoSlike,position:"center center","aspect-ratio":e.$vuetify.breakpoint.mdAndUp?"3.2":"1",contain:!0}})],1),a("v-row",{staticClass:"mx-1"},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"md-8"}},[a("h1",{staticClass:"filmTitle"},[e._v(e._s(e.film.naziv))])]),a("v-col",{attrs:{cols:"md-4","align-self":"end",align:"end"}},[a("RezervacijaKarteDialog",{attrs:{enabled:e.getIsLoggedIn&&"Obican"===e.getCurrentUserUloga&&e.getFilmHasFreeProjekcijeInFuture(e.film.id),btnText:"Kupi kartu",film:e.film}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"md-15"}},[a("p",[e._v(e._s(e.film.opis))])])],1),a("v-row",[a("v-col",{attrs:{cols:"md-2"}},[e._v("Zanrovi:")]),a("v-col",{attrs:{cols:"md-10"}},e._l(e.film.zanrovi,(function(t){return a("v-chip",{key:t.id,attrs:{color:"secondary"}},[e._v(e._s(t.naziv))])})),1)],1),a("v-row",[a("v-col",{attrs:{cols:"md-2"}},[e._v("Reziser:")]),a("v-col",{attrs:{cols:"md-10"}},[a("p",[e._v(e._s(null!=e.film.reziser?e.film.reziser.naziv:""))])])],1),a("v-row",[a("v-col",{attrs:{cols:"md-2"}},[e._v("Glumci:")]),a("v-col",{attrs:{cols:"md-10"}},[a("p",e._l(e.film.glumci,(function(t){return a("span",{key:t.id},[e._v(e._s((t.id!==e.film.glumci[0].id?", ":"")+t.naziv))])})),0)])],1),a("v-row",[a("v-col",{attrs:{cols:"md-2"}},[e._v("Trajanje:")]),a("v-col",{attrs:{cols:"md-10"}},[a("p",[e._v(e._s((e.film.trajanje-e.film.trajanje%60)/60)+" min. "+e._s(e.film.trajanje%60)+" sek.")])])],1),a("v-row",[a("v-col",{attrs:{cols:"md-2"}},[e._v("Distributer:")]),a("v-col",{attrs:{cols:"md-10"}},[a("p",[e._v(e._s(e.film.distributer))])])],1),a("v-row",[a("v-col",{attrs:{cols:"md-2"}},[e._v("Zemlja porekla:")]),a("v-col",{attrs:{cols:"md-10"}},[a("p",[e._v(e._s(e.film.zemljaPorekla))])])],1),a("v-row",[a("v-col",{attrs:{cols:"md-2"}},[e._v("Godina proizvodnje:")]),a("v-col",{attrs:{cols:"md-10"}},[a("p",[e._v(e._s(e.film.godinaProizvodnje))])])],1)],1)],1),a("v-snackbar",{model:{value:e.componentData.errorSnackbarVisible,callback:function(t){e.$set(e.componentData,"errorSnackbarVisible",t)},expression:"componentData.errorSnackbarVisible"}},[e._v(" "+e._s(e.componentData.errorMassage)+" "),a("v-btn",{attrs:{color:"error",text:""},on:{click:function(t){e.componentData.errorSnackbarVisible=!1}}},[e._v("Close")])],1),e.getIsLoggedIn&&"Admin"===e.getCurrentUserUloga?a("v-speed-dial",{attrs:{direction:"top",right:!0,bottom:!0,"open-on-hover":!1,left:!1,top:!1,fixed:""},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-btn",{attrs:{color:"secondary",bottom:"",right:"",fab:""},model:{value:e.speedDialData.speedDialOpen,callback:function(t){e.$set(e.speedDialData,"speedDialOpen",t)},expression:"speedDialData.speedDialOpen"}},[e.speedDialData.speedDialOpen?a("v-icon",[e._v("mdi-close")]):a("v-icon",[e._v("mdi-dots-vertical")])],1)]},proxy:!0}],null,!1,1947990547),model:{value:e.speedDialData.speedDialOpen,callback:function(t){e.$set(e.speedDialData,"speedDialOpen",t)},expression:"speedDialData.speedDialOpen"}},[a("EditFilmDialog",{attrs:{filmId:e.film.id}}),a("DeleteFilm",{attrs:{film:e.film}})],1):e._e()],1)},We=[],Xe=(r("99af"),r("0621")),et=r.n(Xe),tt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){t.on;return[r("v-btn",{attrs:{fab:"",dark:"",small:"",color:"secondary"},on:{click:e.openDialog}},[r("v-icon",[e._v("mdi-pencil")])],1)]}}]),model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[r("v-card",[r("v-toolbar",{attrs:{dark:"",color:"primary"}},[r("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.visible=!1}}},[r("v-icon",[e._v("mdi-close")])],1)],1),r("AddFilm",{attrs:{filmId:e.filmId}})],1)],1)},rt=[],at={name:"EditFilmDialog",components:{AddFilm:Ae},props:{filmId:{type:Number,required:!0}},data:function(){return{visible:!1}},methods:{openDialog:function(e){e.stopPropagation(),this.visible=!0}}},nt=at,it=Object(g["a"])(nt,tt,rt,!1,null,null,null),ot=it.exports;D()(it,{VBtn:O["a"],VCard:P["a"],VDialog:w["a"],VIcon:y["a"],VToolbar:F["a"]});var st=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{persistent:"","max-width":e.$vuetify.breakpoint.mdAndDown?"80vw":"40vw"},scopedSlots:e._u([{key:"activator",fn:function(t){t.on;return[r("v-btn",{attrs:{fab:"",dark:"",small:"",color:"secondary"},on:{click:e.openDialog}},[r("v-icon",[e._v("mdi-delete")])],1)]}}]),model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("Brisanje filma "+e._s(e.film.naziv))]),r("v-card-text",[e._v("Jeste li sigurni da zelite da obrisete film "+e._s(e.film.naziv))]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.submitButton()}}},[e._v("Da")]),r("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.visible=!1}}},[e._v("Ne")])],1)],1)],1)},ct=[];function lt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var mt={name:"DeleteFilm",props:{film:{type:Object,required:!0}},data:function(){return{visible:!1}},methods:ut({},Object(p["b"])(["deleteFilm"]),{openDialog:function(e){e.stopPropagation(),this.visible=!0},submitButton:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.deleteFilm(this.film.id);case 2:if(!e.sent){e.next=5;break}this.visible=!1,this.$router.push({name:"Home"});case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()})},dt=mt,ft=Object(g["a"])(dt,st,ct,!1,null,null,null),pt=ft.exports;D()(ft,{VBtn:O["a"],VCard:P["a"],VCardActions:Y["a"],VCardText:Y["c"],VCardTitle:Y["d"],VDialog:w["a"],VIcon:y["a"],VSpacer:Q["a"]});var vt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-btn",e._g({staticClass:"secondary",attrs:{disabled:!e.enabled}},a),[e._v(e._s(e.btnText))])]}}]),model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t},expression:"dialogVisible"}},[r("v-card",[r("v-toolbar",{attrs:{dark:"",color:"primary"}},[r("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){return e.zatvoriDialog()}}},[r("v-icon",[e._v("mdi-close")])],1)],1),r("v-list-item",[r("v-list-item-content",[r("v-container",{attrs:{fluid:""}},[r("RezervacijaKarte",{attrs:{film:e.film,projekcija:e.projekcija}})],1)],1)],1)],1)],1)},jt=[],bt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"elevation-2"},[r("v-row",{staticClass:"elevation-2"},[r("v-col",[r("h1",{staticClass:"title font-weight-bold"},[e._v("Rezervacija Karte")])])],1),r("v-row",[r("v-col",{class:" col-lg-10 col-md-12  fill-height"},[r("v-form",{model:{value:e.formData.formValid,callback:function(t){e.$set(e.formData,"formValid",t)},expression:"formData.formValid"}},[r("v-stepper",{attrs:{vertical:""},model:{value:e.formData.stepperStep,callback:function(t){e.$set(e.formData,"stepperStep",t)},expression:"formData.stepperStep"}},[r("v-stepper-step",{attrs:{step:"1",complete:e.formData.stepperStep>1}},[e._v("Izaberi film")]),r("v-stepper-content",{attrs:{step:"1"}},[r("v-card",[r("v-list-item",[r("v-autocomplete",{attrs:{items:e.filmovi,rules:e.formData.filmAutocompleteRules},model:{value:e.formData.izabranFilm,callback:function(t){e.$set(e.formData,"izabranFilm",t)},expression:"formData.izabranFilm"}})],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{staticClass:"secondary",attrs:{disabled:null===e.formData.izabranFilm},on:{click:function(t){e.formData.stepperStep+=1}}},[e._v("Dalje")])],1)],1)],1),r("v-stepper-step",{attrs:{step:"2",complete:e.formData.stepperStep>2}},[e._v("Izaberi projekciju")]),r("v-stepper-content",{attrs:{step:"2"}},[r("v-card",[r("v-list-item",[r("v-autocomplete",{attrs:{items:e.projekcije,rules:e.formData.projekcijaAutocompleteRules},scopedSlots:e._u([{key:"item",fn:function(t){return["object"!==typeof t.item?[r("v-list-item-content",{domProps:{textContent:e._s(t.item)}})]:[r("v-list-item-content",[r("v-list-item-title",[e._v(e._s(t.item.value.tipProjekcije.naziv)+" "+e._s(e.strVreme(t.item.value.datumVremePrikazivanja)))]),r("v-list-item-subtitle",[e._v("Sala: "+e._s(t.item.value.sala.naziv)+" Cena karte: "+e._s(t.item.value.cenaKarte))]),r("v-list-item-action-text",[e._v("Datum: "+e._s(e.strDatum(t.item.value.datumVremePrikazivanja)))])],1)]]}}]),model:{value:e.formData.izabranaProjekcija,callback:function(t){e.$set(e.formData,"izabranaProjekcija",t)},expression:"formData.izabranaProjekcija"}})],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{staticClass:"secondary",attrs:{disabled:null===e.formData.izabranaProjekcija},on:{click:function(t){e.formData.stepperStep+=1}}},[e._v("Dalje")]),r("v-btn",{staticClass:"primary--text",on:{click:function(t){e.formData.stepperStep-=1}}},[e._v("Nazad")])],1)],1)],1),r("v-stepper-step",{attrs:{step:"3",complete:e.formData.stepperStep>3}},[e._v("Izaberi sedista")]),r("v-stepper-content",{attrs:{step:"3"}},[r("v-card",[r("v-list-item",[r("v-container",{attrs:{fluid:""}},[r("v-row",{attrs:{justify:"center"}},[r("v-col",{staticClass:"cinemaScreen mb-4",attrs:{cols:"12",align:"center"}},[r("v-icon",{staticClass:"white--text",attrs:{size:"x-large"}},[e._v("mdi-projector-screen")])],1)],1),e.formData.izabranaProjekcija?r("v-row",{staticClass:"rezervacijaContainer",style:"grid-template-columns: repeat("+e.numberOfColumns+", 1fr); ",attrs:{fluid:""}},e._l(e.formData.sedista,(function(t){return r("div",{key:t.redniBroj,class:"sediste font-weight-medium "+(t.zauzeto?"zauzeto":"slobodno")+" "+(t.izabrano?"izabrano":"")+" "+(t.dostupno?"dostupno":""),on:{click:function(r){return e.izaberiSediste(t.id)},dblclick:e.resetujSelekciju}},[e._v(e._s(t.redniBroj))])})),0):e._e()],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{staticClass:"secondary",attrs:{disabled:e.izabranaSedista.length<1},on:{click:function(t){e.formData.stepperStep+=1}}},[e._v("Dalje")]),r("v-btn",{staticClass:"primary--text",on:{click:function(t){e.formData.stepperStep-=1}}},[e._v("Nazad")])],1)],1)],1),r("v-stepper-step",{attrs:{step:"4",complete:e.formData.stepperStep>4}},[e._v("Pregled rezervacije i kupovina karte")]),r("v-stepper-content",{attrs:{step:"4"}},[r("v-card",[r("v-list-item",[r("v-container",{attrs:{fluid:""}},[e.formData.izabranFilm&&e.formData.izabranaProjekcija?r("v-row",{staticClass:"elevation-2 mb-4",attrs:{justify:"space-between"}},[r("v-col",{staticClass:"primary--text col-lg-6 col-md-8"},[r("span",{staticClass:"headline font-weight-medium"},[r("router-link",{attrs:{to:"/Film/"+e.formData.izabranFilm.Id}},[e._v(e._s(e.formData.izabranFilm.naziv))]),e._v(", "+e._s(e.formData.izabranaProjekcija.tipProjekcije.naziv)+" u "+e._s(e.vremePrikazivanja)+" ")],1),r("span",{staticClass:"subtitle-2 font-weight-light"},[e._v(e._s(e.datumPrikazivanja))])]),r("v-col",{staticClass:"col-lg-2 col-md-4 headline font-weight-medium text-end primary--text "},[e._v(" Sala "+e._s(e.formData.izabranaProjekcija.sala.naziv)+" ")])],1):e._e(),e.formData.izabranaProjekcija?r("v-row",[r("v-col",{staticClass:"cols-4 text-start"},[e._v("Cena jedne karte:")]),r("v-col",{staticClass:"cols-8 text-end"},[e._v(e._s(e.formData.izabranaProjekcija.cenaKarte))])],1):e._e(),e.formData.izabranaProjekcija?r("v-row",[r("v-col",{staticClass:"cols-4 text-start"},[e._v("Broj sedista:")]),r("v-col",{staticClass:"cols-8 text-end"},[e._v(e._s(e.izabranaSedista.length))])],1):e._e(),e.formData.izabranaProjekcija?r("v-row",{staticClass:"font-weight-bold title"},[r("v-col",{staticClass:"cols-4 text-start"},[e._v("Ukupno:")]),r("v-col",{staticClass:"cols-8 text-end"},[e._v(e._s(e.izabranaSedista.length*e.formData.izabranaProjekcija.cenaKarte))])],1):e._e()],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{staticClass:"secondary",attrs:{disabled:!e.formData.formValid&&e.izabranaSedista.length<1},on:{click:function(t){return e.kupi()}}},[e._v("Kupi")]),r("v-btn",{staticClass:"primary--text",on:{click:function(t){e.formData.stepperStep-=1}}},[e._v("Nazad")])],1)],1)],1)],1)],1)],1),r("v-col",{class:" col-lg-2 col-md-12 fill-height"},[r("v-card",{staticClass:"elevation-2"},[r("v-card-title",[e._v("Podaci o rezervaciji:")]),e.formData.izabranFilm?r("v-list-item",[e._v(" Film: "),r("router-link",{attrs:{to:"/Film/"+e.formData.izabranFilm.id}},[e._v(e._s(e.formData.izabranFilm.naziv))])],1):e._e(),e.formData.izabranaProjekcija?r("v-list-item",[e._v("Vreme projekcije: "+e._s(e.vremePrikazivanja))]):e._e(),e.formData.izabranaProjekcija?r("v-list-item",[e._v("Datum projekcije: "+e._s(e.datumPrikazivanja))]):e._e(),e.formData.izabranaProjekcija?r("v-list-item",[e._v("Tip projekcije: "+e._s(e.formData.izabranaProjekcija.tipProjekcije.naziv))]):e._e(),e.formData.izabranaProjekcija?r("v-list-item",[e._v("Sala: "+e._s(e.formData.izabranaProjekcija.sala.naziv))]):e._e(),e.formData.izabranaProjekcija?r("v-list-item",[e._v("Cena jedne karte: "+e._s(e.formData.izabranaProjekcija.cenaKarte))]):e._e(),e.formData.izabranaProjekcija?r("v-list-item",[e._v("Broj sedista: "+e._s(e.izabranaSedista.length))]):e._e(),e.formData.izabranaProjekcija?r("v-list-item",[e._v("Ukupno: "+e._s(e.izabranaSedista.length*e.formData.izabranaProjekcija.cenaKarte))]):e._e(),e.formData.izabranaProjekcija?r("v-list-item",[r("router-link",{attrs:{to:"/Projekcija/"+e.formData.izabranaProjekcija.id}},[e._v("Link do projekcije")])],1):e._e()],1)],1)],1),r("v-dialog",{attrs:{"max-width":"80vw",width:"40%"},model:{value:e.formData.dialogVisible,callback:function(t){e.$set(e.formData,"dialogVisible",t)},expression:"formData.dialogVisible"}},[r("v-card",[r("v-card-title",{class:"headline white--text "+e.formData.dialogContent.tip,attrs:{"primary-title":""}},[e._v(" "+e._s(e.formData.dialogContent.naslov)+" ")]),r("v-card-text",{staticClass:"pt-2 body-1"},[e._v(" "+e._s(e.formData.dialogContent.text)+" ")]),r("v-divider"),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary--text",text:""},on:{click:function(t){return e.sakrijDialog()}}},[e._v(" OK ")])],1)],1)],1)],1)},ht=[],gt=(r("c740"),r("4e827"),r("c1df")),kt=r.n(gt);function Dt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Pt={name:"RezervacijaKarte",props:{film:{type:Object,required:!1,default:null},projekcija:{type:Object,required:!1,default:null}},data:function(){return{karte:[],formData:{izabranFilm:null,izabranaProjekcija:null,stepperStep:1,formValid:!1,sedista:[],filmAutocompleteRules:[function(e){return null!==e||"Morate izabrati film"}],projekcijaAutocompleteRules:[function(e){return null!==e||"Morate izabrati projekciju"}],dialogVisible:!1,dialogContent:{naslov:"",text:"",tip:"alert"}}}},methods:Ot({},Object(p["b"])(["fetchFilmovi","fetchProjekcije","fetchZauzetost","rezervisiKarte"]),{loadData:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetchFilmovi();case 2:return e.next=4,this.fetchProjekcije();case 4:return e.next=6,this.fetchZauzetost();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),sakrijDialog:function(){this.formData.dialogVisible=!1,"success"===this.formData.dialogContent.tip&&this.$router.push("/")},kupi:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,r,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.getIsLoggedIn){e.next=17;break}return t=[],r=JSON.parse(JSON.stringify(this.formData.izabranaProjekcija)),delete r.prosla,this.izabranaSedista.forEach((function(e){var n={projekcija:r,sediste:{id:e.id,redniBroj:e.redniBroj,sala:e.sala},korisnik:a.getCurrentUser,datumVremeProdaje:Date.now()};t.push(n)})),e.next=7,this.rezervisiKarte(t);case 7:if(!e.sent){e.next=12;break}this.formData.dialogContent={naslov:"Uspeh",text:"Uspesno ste rezervisali kartu.",tip:"success"},this.formData.dialogVisible=!0,e.next=17;break;case 12:return this.formData.dialogContent={naslov:"Greska",text:"Doslo je do greske ili je neko u medjuvremenu zauzeo sediste!",tip:"error"},e.next=15,this.sakrijDialog();case 15:this.formData.dialogVisible=!0,this.formData.stepperStep=3;case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),strVreme:function(e){return kt()(e).format("H:mm")},strDatum:function(e){return kt()(e).format("D-M-YYYY")},izaberiSediste:function(e){var t=this.formData.sedista.findIndex((function(t){return t.id===e})),r=this.formData.sedista[t];0===this.formData.sedista.filter((function(e){return e.izabrano})).length?r.zauzeto||(r.izabrano=!0,r.dostupno=!1,this.oznaciDostupna()):!r.izabrano&&r.dostupno&&(r.izabrano=!0,r.dostupno=!1,this.oznaciDostupna())},oznaciDostupna:function(){for(var e=this.formData.sedista.length<20,t=0;t<this.formData.sedista.length;t++){var r=!e,a=!e;e?this.formData.sedista[t].izabrano&&(t>0&&(this.formData.sedista[t-1].izabrano||this.formData.sedista[t-1].zauzeto||(this.formData.sedista[t-1].dostupno=!0)),t<this.formData.sedista.length-1&&(this.formData.sedista[t+1].izabrano||this.formData.sedista[t+1].zauzeto||(this.formData.sedista[t+1].dostupno=!0))):(t>0&&(a=a&&this.formData.sedista[t-1].redniBroj%20===0),t<this.formData.sedista.length-1&&(r=r&&this.formData.sedista[t+1].redniBroj%20===1),this.formData.sedista[t].izabrano&&(t>0&&(this.formData.sedista[t-1].izabrano||this.formData.sedista[t-1].zauzeto||a||(this.formData.sedista[t-1].dostupno=!0)),t<this.formData.sedista.length-1&&(this.formData.sedista[t+1].izabrano||this.formData.sedista[t+1].zauzeto||r||(this.formData.sedista[t+1].dostupno=!0))))}},resetujSelekciju:function(){this.formData.sedista.map((function(e){e.izabrano=!1,e.dostupno=!1}))}}),computed:Ot({},Object(p["c"])(["allFilmovi","allProjekcije","getFilmHasProjekcijaInFuture","getProjekcijeForFilmInFuture","getZauzetost","getZauzetostForProjekcija","getFilmHasFreeProjekcijeInFuture","getCurrentUser","getIsLoggedIn"]),{filmovi:function(){var e=this;return this.allFilmovi.filter((function(t){return e.getFilmHasProjekcijaInFuture(t.id)})).filter((function(t){return e.getFilmHasFreeProjekcijeInFuture(t.id)})).map((function(e){var t=new Object;return t["text"]=e.naziv,t["value"]=e,t}))},projekcije:function(){var e=this;return this.formData.izabranFilm?this.getProjekcijeForFilmInFuture(this.formData.izabranFilm.id).filter((function(t){return e.getZauzetostForProjekcija(t.id).filter((function(e){return!e.zauzeto})).length>0})).sort((function(e,t){return kt()(e.datumVremePrikazivanja).isBefore(t.datumVremePrikazivanja)?-1:kt()(e.datumVremePrikazivanja).isAfter(t.datumVremePrikazivanja)?1:0})).map((function(e){var t=new Object;return t["text"]="".concat(e.tipProjekcije.naziv," ").concat(kt()(e.datumVremePrikazivanja).format("H:mm")),t["value"]=e,t})):[]},vremePrikazivanja:function(){return null!==this.formData.izabranaProjekcija?kt()(this.formData.izabranaProjekcija.datumVremePrikazivanja).format("H:mm"):""},datumPrikazivanja:function(){return null!==this.formData.izabranaProjekcija?kt()(this.formData.izabranaProjekcija.datumVremePrikazivanja).format("D-M-YYYY"):""},numberOfColumns:function(){var e=10;this.formData.izabranaProjekcija&&(e=this.getZauzetostForProjekcija(this.formData.izabranaProjekcija.id).length);var t=20;return e<20&&(t=e),t},izabranaSedista:function(){return this.formData.sedista.filter((function(e){return e.izabrano}))}}),mounted:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==this.allFilmovi.length){e.next=3;break}return e.next=3,this.fetchFilmovi();case 3:if(0!==this.allProjekcije.length){e.next=6;break}return e.next=6,this.fetchProjekcije();case 6:if(null!==this.film&&(this.formData.izabranFilm=this.film,this.formData.stepperStep=2),null!==this.projekcija&&(this.formData.izabranaProjekcija=this.projekcija,this.formData.stepperStep=3),0!==this.getZauzetost.size){e.next=11;break}return e.next=11,this.fetchZauzetost();case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),watch:{film:function(){null!==this.film&&(this.formData.izabranFilm=this.film,this.formData.stepperStep=2)},projekcija:function(){null!==this.projekcija&&(this.formData.izabranaProjekcija=this.projekcija,this.formData.stepperStep=3)},"formData.izabranFilm":function(){this.formData.izabranaProjekcija=null},"formData.izabranaProjekcija":function(){null!==this.formData.izabranaProjekcija?this.formData.sedista=this.getZauzetostForProjekcija(this.formData.izabranaProjekcija.id).map((function(e){return Ot({},e,{izabrano:!1,dostupno:!1})})):this.formData.sedista=[]}}},wt=Pt,_t=(r("2dfa"),r("c6a6")),yt=r("7e85"),xt=r("e516"),zt=r("56a4"),Vt=Object(g["a"])(wt,bt,ht,!1,null,null,null),Ct=Vt.exports;D()(Vt,{VAutocomplete:_t["a"],VBtn:O["a"],VCard:P["a"],VCardActions:Y["a"],VCardText:Y["c"],VCardTitle:Y["d"],VCol:be["a"],VContainer:Ie["a"],VDialog:w["a"],VDivider:oe["a"],VForm:_["a"],VIcon:y["a"],VListItem:z["a"],VListItemActionText:V["a"],VListItemContent:V["b"],VListItemSubtitle:V["c"],VListItemTitle:V["d"],VRow:Re["a"],VSpacer:Q["a"],VStepper:yt["a"],VStepperContent:xt["a"],VStepperStep:zt["a"]});var St={name:"RezervacijaKarteDialog",components:{RezervacijaKarte:Ct},props:{film:{default:null,type:Object,required:!1},projekcija:{default:null,type:Object,required:!1},btnText:{type:String,required:!0,default:""},enabled:{type:Boolean,requiered:!1,default:!0}},data:function(){return{dialogVisible:!1}},methods:{zatvoriDialog:function(){this.dialogVisible=!1}}},Ft=St,Tt=Object(g["a"])(Ft,vt,jt,!1,null,null,null),It=Tt.exports;function Rt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Et(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}D()(Tt,{VBtn:O["a"],VCard:P["a"],VContainer:Ie["a"],VDialog:w["a"],VIcon:y["a"],VListItem:z["a"],VListItemContent:V["b"],VToolbar:F["a"]});var Ut={name:"Film",components:{EditFilmDialog:ot,DeleteFilm:pt,RezervacijaKarteDialog:It},props:{id:String},data:function(){return{film:{},componentData:{errorMassage:"",errorSnackbarVisible:!1,backgroundColor:"#ffffff",textColor:"#000000"},speedDialData:{speedDialOpen:!1}}},computed:Object(p["c"])(["getFilm","allFilmovi","getCurrentTheme","getBaseTheme","getFilmIdAvailableInFilmovi","getFullServerAddress","getIsLoggedIn","getCurrentUserUloga","getFilmHasFreeProjekcijeInFuture"]),methods:Et({},Object(p["b"])(["fetchFilmovi","setCurrentTheme","setCurrentThemeToBase"]),{filmLoad:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.allFilmovi.length;case 2:if(e.t0=e.sent,0!==e.t0){e.next=6;break}return e.next=6,this.fetchFilmovi();case 6:if(!/^\d+$/.test(this.id)){e.next=19;break}if(!this.getFilmIdAvailableInFilmovi(Number.parseInt(this.id))){e.next=15;break}return e.next=10,this.getFilm(parseInt(this.id,10));case 10:return this.film=e.sent,e.next=13,this.setColors();case 13:e.next=17;break;case 15:console.log("".concat(this.getFullServerAddress,"/Film?id=").concat(this.id)),f.a.get("".concat(this.getFullServerAddress,"/Film?id=").concat(this.id)).then((function(e){return t.film=e.data})).catch((function(e){console.log(e),t.componentData.errorMassage="Id nije pravilno unet, ili film ne postoji",t.componentData.errorSnackbarVisible=!0}));case 17:e.next=21;break;case 19:this.componentData.errorMassage="Id nije pravilno unet, nije moguce prikazati film",this.componentData.errorSnackbarVisible=!0;case 21:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),setColors:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,et.a.from(this.film.pathDoSlike).getPalette().then((function(e){return e}));case 3:t=e.sent,this.componentData.backgroundColor=t.DarkVibrant.hex,this.componentData.textColor=t.DarkVibrant.bodyTextColor,r=this.getCurrentTheme,r.primary=t.DarkVibrant.hex,r.secondary=t.Muted.hex,this.setCurrentTheme(r),e.next=17;break;case 12:e.prev=12,e.t0=e["catch"](0),this.setCurrentThemeToBase(),this.componentData.backgroundColor="#fff",this.componentData.textColor="#000";case 17:case"end":return e.stop()}}),e,this,[[0,12]])})));function t(){return e.apply(this,arguments)}return t}()}),watch:{id:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.filmLoad();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.filmLoad();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},At=Ut,$t=(r("44f8"),r("adda")),Lt=r("c73b"),Kt=Object(g["a"])(At,Qe,We,!1,null,null,null),Mt=Kt.exports;D()(Kt,{VBtn:O["a"],VChip:Je["a"],VCol:be["a"],VContainer:Ie["a"],VIcon:y["a"],VImg:$t["a"],VRow:Re["a"],VSnackbar:C["a"],VSpeedDial:Lt["a"]});var Bt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"pt-1",attrs:{fluid:""}},[r("v-row",[r("v-col",{staticClass:"h-60 py-0",attrs:{cols:"12"}},[r("MovieCarousel",{staticClass:"elevation-2"})],1)],1),r("v-row",[r("v-col",{attrs:{lg:"7",md:"12"}},[r("IndexPageProjekcijeTable",{staticClass:"elevation-2"})],1),r("v-col",{attrs:{lg:"5",md:"12"}},[r("RandomQuote",{staticClass:"elevation-2"})],1)],1)],1)},Nt=[],qt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"fill-height p-reset",attrs:{fluid:""}},[a("v-carousel",{staticClass:"fill-height",attrs:{"hide-delimiters":"",height:"100%"}},e._l(e.get5NewestFilms,(function(e){return a("v-carousel-item",{key:e.id,attrs:{src:e.pathDoSlike,link:!0,to:"/Film/"+e.id,contain:"","lazy-src":r("963b")}})})),1)],1)},Zt=[];function Jt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Gt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ht={name:"MovieCarousel",computed:Gt({},Object(p["c"])(["get5NewestFilms"])),methods:{}},Yt=Ht,Qt=(r("d67b"),r("5e66")),Wt=r("3e35"),Xt=Object(g["a"])(Yt,qt,Zt,!1,null,null,null),er=Xt.exports;D()(Xt,{VCarousel:Qt["a"],VCarouselItem:Wt["a"],VContainer:Ie["a"]});var tr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"projekcijeTableContainer",attrs:{fluid:""}},[r("v-row",[r("v-col",[r("h3",{staticClass:"text-left"},[e._v("Danasnje projekcije:")])])],1),r("v-row",[r("v-col",[r("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[r("thead",[r("tr",[r("th",{staticClass:"text-left"},[e._v("Film")]),r("th",{staticClass:"text-left"},[e._v("Datum i vreme prikazivanja")]),r("th",{staticClass:"text-left"},[e._v("Tip projekcije")]),r("th",{staticClass:"text-left"},[e._v("Sala")]),r("th",{staticClass:"text-left"},[e._v("Cena")]),r("th",{staticClass:"text-left"},[e._v("Detaljnije")])])]),r("tbody",{staticClass:"overflow-y-auto overflow-x-hidden"},e._l(e.getDanasnjeProjekcijeSortedAsPerSpecification,(function(t){return r("tr",{key:t.id},[r("td",[r("router-link",{attrs:{to:"/Film/"+t.film.id}},[e._v(" "+e._s(t.film.naziv)+" ")])],1),r("td",[e._v(e._s(t.datumVremePrikazivanja.toLocaleString()))]),r("td",[e._v(e._s(t.tipProjekcije.naziv))]),r("td",[e._v(e._s(t.sala.naziv))]),r("td",[e._v(e._s(t.cenaKarte))]),r("td",[r("router-link",{attrs:{to:"/Projekcija/"+t.id}},[e._v(" Detaljnije ")])],1)])})),0)]},proxy:!0}])})],1)],1)],1)},rr=[];function ar(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function nr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ar(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ar(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ir={name:"IndexPageProjekcijeTable",computed:nr({},Object(p["c"])(["getDanasnjeProjekcijeSortedAsPerSpecification","allProjekcije"])),methods:nr({},Object(p["b"])(["fetchProjekcije"])),mounted:function(){0===this.allProjekcije.length&&this.fetchProjekcije()}},or=ir,sr=(r("bebb"),r("1f4f")),cr=Object(g["a"])(or,tr,rr,!1,null,null,null),lr=cr.exports;D()(cr,{VCol:be["a"],VContainer:Ie["a"],VRow:Re["a"],VSimpleTable:sr["a"]});var ur=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"fill-height px-6",attrs:{fluid:""}},[r("blockquote",{staticClass:"blockquote"},[r("span",{staticClass:"font-italic"},[e._v('"'+e._s(e.quote)+'"')]),e._v(" "),r("span",{staticClass:"font-weight-bold"},[e._v("- "+e._s(e.author))])])])},mr=[],dr={name:"RandomQuote",data:function(){return{quote:"",author:"",repeatFunc:null}},methods:{getQuote:function(){var e=this;f.a.get("https://programming-quotes-api.herokuapp.com/quotes/random",{withCredentials:!1}).then((function(t){e.quote=t.data.en,e.author=t.data.author}))}},mounted:function(){this.getQuote(),this.repeatFunc=setInterval(this.getQuote,6e4)},beforeDestroy:function(){clearInterval(this.repeatFunc)}},fr=dr,pr=Object(g["a"])(fr,ur,mr,!1,null,null,null),vr=pr.exports;D()(pr,{VContainer:Ie["a"]});var jr={name:"Home",components:{MovieCarousel:er,IndexPageProjekcijeTable:lr,RandomQuote:vr}},br=jr,hr=(r("cccb"),Object(g["a"])(br,Bt,Nt,!1,null,null,null)),gr=hr.exports;D()(hr,{VCol:be["a"],VContainer:Ie["a"],VRow:Re["a"]});var kr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-card",[r("v-card-title",[e._v(" Korisnici "),r("v-spacer"),r("v-text-field",{attrs:{"append-icon":"md-search",label:"Pretraga","single-line":"","hide-details":""},model:{value:e.tableData.search,callback:function(t){e.$set(e.tableData,"search",t)},expression:"tableData.search"}})],1),r("v-data-table",{attrs:{headers:e.tableData.zaglavljaTabele,"items-per-page":20,items:e.getAllUsers,"loading-text":"Loading... Please wait",search:e.tableData.search,"custom-filter":e.customFilterFunction},scopedSlots:e._u([{key:"item.datumRegistracije",fn:function(t){var r=t.item;return[e._v(" "+e._s(r.datumRegistracije.toLocaleString())+" ")]}},{key:"item.detaljnije",fn:function(t){var a=t.item;return[r("router-link",{attrs:{to:"/Korisnik/"+a.id}},[e._v("Detaljnije")])]}}])})],1)],1)},Dr=[];r("ac1f"),r("1276");function Or(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Pr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Or(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Or(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var wr={name:"Korisnici",data:function(){return{tableData:{search:"",zaglavljaTabele:[{text:"Username",value:"username",sortable:!0,sort:function(e,t){return e.localeCompare(t)}},{text:"Datum registracije",value:"datumRegistracije",sortable:!0,sort:function(e,t){return kt()(new Date(e)).isBefore(new Date(t))?-1:kt()(new Date(e)).isAfter(new Date(t))?1:0}},{text:"Uloga",value:"uloga",sortable:!0,sort:function(e,t){return e.naziv.localeCompare(t.naziv)}},{text:"Detaljnije",value:"detaljnije",sortable:!1}]}}},computed:Pr({},Object(p["c"])(["getAllUsers"])),methods:Pr({},Object(p["b"])(["fetchUsers"]),{customFilterFunction:function(e,t,r){var a="".concat(r.username," ").concat(r.datumRegistracije.toLocaleString()," ").concat(r.uloga).toUpperCase();return t.split(" ").reduce((function(e,t){return a.includes(t.toUpperCase())&&e}),!0)}}),mounted:function(){this.fetchUsers()}},_r=wr,yr=Object(g["a"])(_r,kr,Dr,!1,null,null,null),xr=yr.exports;D()(yr,{VCard:P["a"],VCardTitle:Y["d"],VContainer:Ie["a"],VDataTable:Ge["a"],VSpacer:Q["a"],VTextField:S["a"]});var zr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"fill-height"},[null!==e.user?r("v-card",{staticClass:"fill-height",attrs:{width:"100%"}},[r("v-card-title",[e._v(" "+e._s(e.user.username)+" ")]),r("v-card-subtitle",[e._v(" "+e._s(e.user.uloga)+" korisnik ")]),!e.getIsLoggedIn||e.getCurrentUserId!==e.user.id&&"Admin"!==e.getCurrentUserUloga?e._e():r("v-list-item",[r("v-list-item-content",[r("v-list-item-title",[e._v("Sifra:")]),r("v-list-item-content",[r("v-form",{attrs:{width:"100%"},model:{value:e.componentData.passwordFormValid,callback:function(t){e.$set(e.componentData,"passwordFormValid",t)},expression:"componentData.passwordFormValid"}},[r("v-row",{attrs:{justify:"start",align:"center"}},[r("v-col",{attrs:{fluid:"",lg:"10",md:"8"}},[r("v-text-field",{attrs:{type:"password",rules:e.componentData.passwordTextFieldRules},on:{input:function(t){return e.pwdChanged()}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),r("v-col",{attrs:{fluid:"",lg:"1",md:"4"}},[r("v-btn",{attrs:{color:"secondary--text",text:"",disabled:!this.componentData.passwordChanged||!this.componentData.passwordFormValid},on:{click:function(t){return e.changeSubmit()}}},[e._v("Izmeni")])],1)],1)],1)],1)],1)],1),e.getIsLoggedIn&&"Admin"===e.getCurrentUserUloga?r("v-list-item",[r("v-list-item-content",[r("v-list-item-title",[e._v("Uloga:")]),r("v-list-item-content",[r("v-form",{attrs:{width:"100%"}},[r("v-row",{attrs:{justify:"start",align:"center"}},[r("v-col",{attrs:{fluid:"",lg:"10",md:"8"}},[r("v-select",{attrs:{items:e.componentData.uloge},on:{input:function(t){e.componentData.roleChanged=!0}},model:{value:e.user.uloga,callback:function(t){e.$set(e.user,"uloga",t)},expression:"user.uloga"}})],1),r("v-col",{attrs:{fluid:"",lg:"1",md:"4"}},[r("v-btn",{attrs:{color:"secondary--text",text:"",disabled:!this.componentData.roleChanged},on:{click:function(t){return e.changeSubmit()}}},[e._v("Izmeni")])],1)],1)],1)],1)],1)],1):e._e(),r("v-divider"),r("v-list-item",[r("v-list-item-content",[r("v-list-item-title",[e._v("Vreme registracije:")]),r("v-list-item-content",[e._v(e._s(e.user.datumRegistracije?e.user.datumRegistracije.toLocaleString():""))])],1)],1),r("v-list-item",[r("v-list-item-content",[r("v-list-item-title",[e._v("Obrisan:")]),r("v-list-item-content",[e._v(e._s(e.user.obrisan?"Da":"Ne"))])],1)],1),r("v-divider"),r("v-list-item",[r("v-list-item-content",[r("v-list-item-title",[e._v("Kupljene karte:")]),null===e.user.id||"Admin"!==e.getCurrentUserUloga&&e.getCurrentUserId!==e.user.id?e._e():r("KarteTable",{attrs:{karte:e.getKarteForKorisnik(e.user.id),showUser:!1,defaultSortBy:"datumVremeProdaje",defaultSortDesc:!0}})],1)],1)],1):e._e(),e.getIsLoggedIn&&"Admin"===e.getCurrentUserUloga&&e.getCurrentUserId!==e.user.id?r("DeleteKorisnikDialog",{attrs:{korisnik:e.user}}):e._e()],1)},Vr=[],Cr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{"max-width":e.$vuetify.breakpoint.mdAndDown?"80vw":"40vw"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-btn",e._g({attrs:{fab:"",absolute:"",bottom:"",right:"",color:"secondary"}},a),[r("v-icon",[e._v("mdi-delete")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("Jeste li sigurni da zelite obrisati "+e._s(e.korisnik.username))]),r("v-card-text",[e._v("Postoji mogucnost da nece biti moguce povratiti obrisane podatke")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:e.submit}},[e._v("Da")]),r("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v("Ne")])],1)],1)],1)},Sr=[];function Fr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Tr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fr(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ir={name:"DeleteKorisnikDialog",props:{korisnik:{type:Object,required:!0}},data:function(){return{dialog:!1}},methods:Tr({},Object(p["b"])(["deleteUser"]),{submit:function(){this.deleteUser(this.korisnik.id)&&(this.dialog=!1,this.$router.push("/"))}})},Rr=Ir,Er=Object(g["a"])(Rr,Cr,Sr,!1,null,null,null),Ur=Er.exports;D()(Er,{VBtn:O["a"],VCard:P["a"],VCardActions:Y["a"],VCardText:Y["c"],VCardTitle:Y["d"],VDialog:w["a"],VIcon:y["a"],VSpacer:Q["a"]});var Ar=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.computedZaglavlje,items:e.karte,"items-per-page":10,"sort-by":[e.defaultSortBy],"sort-desc":[e.defaultSortDesc]},scopedSlots:e._u([{key:"item.datumVremeProdaje",fn:function(t){var r=t.item;return[e._v(" "+e._s(e.formatVremeProdaje(r.datumVremeProdaje))+" ")]}},{key:"header.korisnik",fn:function(t){var r=t.header;return[e._v(" "+e._s(r.text)+" ")]}},{key:"item.korisnik.username",fn:function(t){var a=t.item;return[r("router-link",{attrs:{to:"/Korisnik/"+a.korisnik.id}},[e._v(" "+e._s(a.korisnik.username))])]}},{key:"header.projekcija.datumVremePrikazivanja",fn:function(t){var r=t.header;return[e._v(" "+e._s(r.text)+" ")]}},{key:"item.projekcija.datumVremePrikazivanja",fn:function(t){var a=t.item;return[r("router-link",{attrs:{to:"/Projekcija/"+a.projekcija.id}},[e._v(" "+e._s(e.formatVremeProdaje(a.projekcija.datumVremePrikazivanja)))])]}},{key:"header.detaljnije",fn:function(t){var r=t.header;return[e._v(" "+e._s(r.text)+" ")]}},{key:"item.detaljnije",fn:function(t){var a=t.item;return[r("router-link",{attrs:{to:"/Karta/"+a.id}},[e._v("Detaljnije")])]}}])})},$r=[],Lr={name:"KarteTable",props:{karte:{type:Array,required:!0},showUser:{type:Boolean,required:!1,default:!0},showProjekcija:{type:Boolean,required:!1,default:!0},defaultSortBy:{type:String,required:!1,default:null},defaultSortDesc:{type:Boolean,required:!1,default:!1}},computed:{computedZaglavlje:function(){var e=this;return this.zaglavlje.filter((function(t){return"korisnik.username"===t.value&&e.showUser||"projekcija.datumVremePrikazivanja"===t.value&&e.showProjekcija||"projekcija.datumVremePrikazivanja"!==t.value&&"korisnik.username"!==t.value}))}},data:function(){return{zaglavlje:[{text:"Vreme prodaje",sortable:!0,value:"datumVremeProdaje",sort:function(e,t){return kt()(new Date(e)).isBefore(new Date(t))?-1:kt()(new Date(e)).isAfter(new Date(t))?1:0}},{text:"Korisnik",sortable:!0,value:"korisnik.username",sort:function(e,t){return e.localeCompare(t)}},{text:"Projekcija",sortable:!0,value:"projekcija.datumVremePrikazivanja",sort:function(e,t){return kt()(new Date(e)).isBefore(new Date(t))?-1:kt()(new Date(e)).isAfter(new Date(t))?1:0}},{text:"Detaljnije",sortable:!1,value:"detaljnije"}]}},methods:{formatVremeProdaje:function(e){return kt()(new Date(e)).format("D-M-YYYY hh:mm")}}},Kr=Lr,Mr=Object(g["a"])(Kr,Ar,$r,!1,null,null,null),Br=Mr.exports;function Nr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function qr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nr(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}D()(Mr,{VDataTable:Ge["a"]});var Zr={name:"Korisnik",components:{DeleteKorisnikDialog:Ur,KarteTable:Br},props:{id:{type:String,required:!0}},data:function(){return{user:{},componentData:{passwordFormValid:!1,passwordChanged:!1,roleChanged:!1,passwordTextFieldRules:[function(e){return e+"".trim()!==""||"Polje ne sme biti prazno"},function(e){return!((e+"").trim().length<8)||"Sifra mora da ima vise od 8 karaktera"}],uloge:[{text:"Admin",value:"Admin"},{text:"Obican",value:"Obican"}]}}},methods:qr({},Object(p["b"])(["fetchUsers","updateUser","fetchKarte"]),{pwdChanged:function(){this.componentData.passwordChanged=!0},changeSubmit:function(){this.updateUser(this.user)&&(this.componentData.passwordChanged=!1,this.componentData.roleChanged=!1)}}),computed:qr({},Object(p["c"])(["getUser","getAllUsers","getIsLoggedIn","getCurrentUserUloga","getCurrentUserId","getIfUserIdInUsers","getFullServerAddress","getKarteForKorisnik"])),mounted:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==this.getAllUsers.length){e.next=3;break}return e.next=3,this.fetchUsers();case 3:if(!this.getIfUserIdInUsers(Number.parseInt(this.id))){e.next=8;break}this.user=JSON.parse(JSON.stringify(this.getUser(Number.parseInt(this.id)))),this.user.datumRegistracije=new Date(this.user.datumRegistracije),e.next=10;break;case 8:return e.next=10,f.a.get("".concat(this.getFullServerAddress,"/Korisnik?id=").concat(this.id)).then((function(e){t.user=e.data,t.user.datumRegistracije=new Date(t.user.datumRegistracije)})).catch((function(){t.$router.push("/")}));case 10:return e.next=12,this.fetchKarte();case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},Jr=Zr,Gr=r("b974"),Hr=Object(g["a"])(Jr,zr,Vr,!1,null,null,null),Yr=Hr.exports;D()(Hr,{VBtn:O["a"],VCard:P["a"],VCardSubtitle:Y["b"],VCardTitle:Y["d"],VCol:be["a"],VContainer:Ie["a"],VDivider:oe["a"],VForm:_["a"],VListItem:z["a"],VListItemContent:V["b"],VListItemTitle:V["d"],VRow:Re["a"],VSelect:Gr["a"],VTextField:S["a"]});var Qr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",[r("v-col",{staticClass:"col-xs-12 col-sm-12 col-md-12 col-lg-3 col-xl-3"},[r("v-card",[r("v-form",{model:{value:e.searchData.formValid,callback:function(t){e.$set(e.searchData,"formValid",t)},expression:"searchData.formValid"}},[r("v-card-title",[e._v(" Pretraga: ")]),r("v-list-item",[r("v-text-field",{attrs:{label:"Film"},model:{value:e.searchData.film,callback:function(t){e.$set(e.searchData,"film",t)},expression:"searchData.film"}})],1),r("v-divider"),r("v-subheader",[e._v("Datum")]),r("DateTimePicker",{attrs:{title:"Od:"},on:{dateTimeSet:function(t){e.searchData.datumVremeOd=t}}}),r("DateTimePicker",{attrs:{title:"Do:"},on:{dateTimeSet:function(t){e.searchData.datumVremeDo=t}}}),r("v-divider"),r("v-list-item",[r("v-autocomplete",{attrs:{label:"Tip projekcije",items:e.allProjekcijeFormatted,clearable:""},model:{value:e.searchData.tipProjekcije,callback:function(t){e.$set(e.searchData,"tipProjekcije",t)},expression:"searchData.tipProjekcije"}})],1),r("v-list-item",[r("v-autocomplete",{attrs:{label:"Sala",items:e.allSaleFormatted,clearable:""},model:{value:e.searchData.sala,callback:function(t){e.$set(e.searchData,"sala",t)},expression:"searchData.sala"}})],1),r("v-list-item",[r("v-list-item-title",[e._v("Cena:")]),r("v-text-field",{ref:"cenaOdTF",staticClass:"mr-2",attrs:{label:"Od",rules:e.searchData.cenaRules},model:{value:e.searchData.cenaOd,callback:function(t){e.$set(e.searchData,"cenaOd",t)},expression:"searchData.cenaOd"}}),r("v-text-field",{ref:"cenaDoTF",attrs:{label:"Do",rules:e.searchData.cenaRules},model:{value:e.searchData.cenaDo,callback:function(t){e.$set(e.searchData,"cenaDo",t)},expression:"searchData.cenaDo"}})],1),r("v-divider"),r("v-list-item",[r("v-radio-group",{attrs:{row:""},model:{value:e.searchData.prosla,callback:function(t){e.$set(e.searchData,"prosla",t)},expression:"searchData.prosla"}},[r("v-radio",{attrs:{label:"Sve",value:0}}),r("v-radio",{attrs:{label:"Buducue",value:1}}),r("v-radio",{attrs:{label:"Prosle",value:2}})],1)],1)],1)],1)],1),r("v-col",{staticClass:"col-xs-12 col-sm-12 col-md-12 col-lg-9 col-xl-9"},[r("v-card",[r("v-card-title",[e._v(" Projekcije "),r("v-spacer"),r("v-btn",{attrs:{icon:""},on:{click:function(t){return e.refresh()}}},[r("v-icon",[e._v("mdi-refresh")])],1)],1),r("v-data-table",{attrs:{headers:e.tableData.zaglavljaTabele,items:e.allProjekcije,"items-per-page":20,search:e.tableData.search,"custom-filter":e.customFilterFunction,loading:e.tableData.loading},scopedSlots:e._u([{key:"item.film",fn:function(t){var a=t.item;return[r("router-link",{attrs:{to:"/Film/"+a.film.id}},[e._v(e._s(a.film.naziv))])]}},{key:"item.datumVremePrikazivanja",fn:function(t){var r=t.item;return[e._v(e._s(r.datumVremePrikazivanja.toLocaleString()))]}},{key:"item.tipProjekcije",fn:function(t){var r=t.item;return[e._v(e._s(r.tipProjekcije.naziv))]}},{key:"item.sala",fn:function(t){var r=t.item;return[e._v(e._s(r.sala.naziv))]}},{key:"item.cenaKarte",fn:function(t){var r=t.item;return[e._v(e._s(r.cenaKarte))]}},{key:"item.prosla",fn:function(t){var r=t.item;return[e._v(e._s(r.prosla()?"Da":"Ne"))]}},{key:"item.detaljnije",fn:function(t){var a=t.item;return[r("router-link",{attrs:{to:"/Projekcija/"+a.id}},[e._v("Detaljnije")])]}}])})],1)],1)],1)],1)},Wr=[],Xr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-list-item",[r("v-list-item-title",[e._v(" "+e._s(e.title)+" ")]),r("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-text-field",e._g({staticClass:"mr-2",attrs:{dense:"",label:"Datum",readonly:""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},a))]}}]),model:{value:e.dateMenu,callback:function(t){e.dateMenu=t},expression:"dateMenu"}},[r("v-date-picker",{on:{input:function(t){e.dateMenu=!1}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),r("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-text-field",e._g({attrs:{dense:"",label:"Vreme",readonly:""},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}},a))]}}]),model:{value:e.timeMenu,callback:function(t){e.timeMenu=t},expression:"timeMenu"}},[r("v-time-picker",{on:{input:function(t){e.timeMenu=!1}},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1),r("v-list-item-action",[r("v-btn",{attrs:{icon:""},on:{click:function(t){return e.clear()}}},[r("v-icon",[e._v("mdi-close")])],1)],1)],1)},ea=[],ta={name:"DateTimePicker",props:{title:{type:String,required:!1,default:""}},data:function(){return{date:null,time:null,dateMenu:!1,timeMenu:!1}},methods:{clear:function(){this.date=null,this.time=null}},computed:{dateTime:function(){return null!==this.date&&null!==this.time?kt()("".concat(this.date," ").concat(this.time)).toDate():null}},watch:{dateTime:function(){this.$emit("dateTimeSet",this.dateTime)}}},ra=ta,aa=r("2e4b"),na=r("1800"),ia=r("c964"),oa=Object(g["a"])(ra,Xr,ea,!1,null,null,null),sa=oa.exports;function ca(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function la(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ca(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ca(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}D()(oa,{VBtn:O["a"],VDatePicker:aa["a"],VIcon:y["a"],VListItem:z["a"],VListItemAction:na["a"],VListItemTitle:V["d"],VMenu:ce["a"],VTextField:S["a"],VTimePicker:ia["b"]});var ua={name:"Projekcije",components:{DateTimePicker:sa},data:function(){return{searchData:{film:null,datumVremeOd:null,datumVremeDo:null,tipProjekcije:null,sala:null,cenaOd:null,cenaDo:null,prosla:0,cenaRules:[function(e){return!(""!==e&&!/^\d{1,}$/.test(e))||"Mora biti broj"},function(e){return""===e||Number.parseInt(e)>=0||"Nije vece od 0"}]},tableData:{search:"a",loading:!1,zaglavljaTabele:[{text:"Film",value:"film",sortable:!0,sort:function(e,t){return e.naziv.localeCompare(t.naziv)}},{text:"Datum i Vreme Prikazivanja",value:"datumVremePrikazivanja",sortable:!0,sort:function(e,t){return kt()(new Date(e)).isBefore(new Date(t))?-1:kt()(new Date(e)).isAfter(new Date(t))?1:0}},{text:"Tip projekcije",value:"tipProjekcije",sortable:!0,sort:function(e,t){return e.naziv.localeCompare(t.naziv)}},{text:"Sala",value:"sala",sortable:!0,sort:function(e,t){return e.naziv.localeCompare(t.naziv)}},{text:"Cena Karte",value:"cenaKarte",sortable:!0,sort:function(e,t){return e>t?-1:t>e?1:0}},{text:"Projekcija prosla",value:"prosla",sortable:!0,sort:function(e,t){return e()&&t()?0:e()?-1:t()?1:0}},{text:"Detaljnije",value:"detaljnije",sortable:!1}]}}},methods:la({},Object(p["b"])(["fetchProjekcije","fetchTipoviProjekcije","fetchSale"]),{customFilterFunction:function(e,t,r){var a=!0;return null!==this.searchData.film&&(a=a&&r.film.naziv.toLowerCase().includes(this.searchData.film.toLowerCase())),a?(null!==this.searchData.datumVremeOd&&(a=a&&kt()(r.datumVremePrikazivanja).isSameOrAfter(this.searchData.datumVremeOd)),a?(null!==this.searchData.datumVremeDo&&(a=a&&kt()(r.datumVremePrikazivanja).isSameOrBefore(this.searchData.datumVremeDo)),a?("undefined"!==typeof this.searchData.tipProjekcije&&null!==this.searchData.tipProjekcije&&(a=a&&r.tipProjekcije.id===this.searchData.tipProjekcije.id),a?("undefined"!==typeof this.searchData.sala&&null!==this.searchData.sala&&(a=a&&r.sala.id===this.searchData.sala.id),a?(this.$refs.cenaOdTF.valid&&null!==this.searchData.cenaOd&&""!==this.searchData.cenaOd&&(a=a&&r.cenaKarte>=this.searchData.cenaOd),a?(this.$refs.cenaDoTF.valid&&null!==this.searchData.cenaDo&&""!==this.searchData.cenaDo&&(a=a&&r.cenaKarte<=this.searchData.cenaDo),a?(0!==this.searchData.prosla&&(a=a&&(2===this.searchData.prosla?r.prosla():!r.prosla())),a||a):a):a):a):a):a):a):a},refresh:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.tableData.loading=!0,e.next=3,this.fetchProjekcije();case 3:return e.next=5,this.fetchTipoviProjekcije();case 5:return e.next=7,this.fetchSale();case 7:this.tableData.loading=!1;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}),computed:la({},Object(p["c"])(["allProjekcije","allTipoviProjekcije","allSale"]),{allProjekcijeFormatted:function(){return this.allTipoviProjekcije.map((function(e){return{text:e.naziv,value:e}}))},allSaleFormatted:function(){return this.allSale.map((function(e){return{text:e.naziv,value:e}}))}}),mounted:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.refresh();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},ma=ua,da=r("67b6"),fa=r("43a6"),pa=r("e0c7"),va=Object(g["a"])(ma,Qr,Wr,!1,null,null,null),ja=va.exports;D()(va,{VAutocomplete:_t["a"],VBtn:O["a"],VCard:P["a"],VCardTitle:Y["d"],VCol:be["a"],VContainer:Ie["a"],VDataTable:Ge["a"],VDivider:oe["a"],VForm:_["a"],VIcon:y["a"],VListItem:z["a"],VListItemTitle:V["d"],VRadio:da["a"],VRadioGroup:fa["a"],VRow:Re["a"],VSpacer:Q["a"],VSubheader:pa["a"],VTextField:S["a"]});var ba=function(){var e=this,t=e.$createElement,r=e._self._c||t;return null!==e.projekcija?r("v-container",{staticClass:"elevation-2 mx-auto mt-4 h-80"},[r("v-row",{staticClass:"elevation-2"},[r("v-col",{attrs:{cols:"lg-4 md-8"}},[r("h1",{staticClass:"title font-weight-bold"},[e._v("Projekcija u "+e._s(e.strVremeProjekcije))])]),r("v-col",{staticClass:"col-lg-2 offset-lg-6 col-md-4",attrs:{align:"end"}},[r("RezervacijaKarteDialog",{attrs:{enabled:!e.projekcija.prosla()&&e.getIsLoggedIn&&"Obican"===e.getCurrentUserUloga&&e.getProjekcijaHasFreeSeats(e.projekcija.id),btnText:"Kupi kartu",projekcija:e.projekcija}})],1)],1),r("v-row",[r("v-col",{attrs:{cols:"md-2"}},[e._v("Film:")]),r("v-col",{attrs:{cols:"md-10"}},[r("router-link",{attrs:{to:"/Film/"+(e.projekcija.film.id?e.projekcija.film.id:"")}},[e._v(e._s(e.projekcija.film.naziv))])],1)],1),r("v-row",[r("v-col",{staticClass:"col-md-2"},[e._v("Vreme prikazivanja:")]),r("v-col",{staticClass:"col-md-10"},[e._v(e._s(e.strVremeProjekcije))])],1),r("v-row",[r("v-col",{staticClass:"col-md-2"},[e._v("Tip projekcije:")]),r("v-col",{staticClass:"col-md-10"},[e._v(e._s(e.projekcija.tipProjekcije.naziv))])],1),r("v-row",[r("v-col",{staticClass:"col-md-2"},[e._v("Sala:")]),r("v-col",{staticClass:"col-md-10"},[e._v(e._s(e.projekcija.sala.naziv))])],1),r("v-row",[r("v-col",{staticClass:"col-md-2"},[e._v("Cena Karte:")]),r("v-col",{staticClass:"col-md-10"},[e._v(e._s(e.projekcija.cenaKarte))])],1),r("v-row",[r("v-col",{staticClass:"col-md-2"},[e._v("Slobodnih mesta:")]),r("v-col",{staticClass:"col-md-10"},[e._v(e._s(e.slobodnaMesta))])],1),r("v-row",[r("v-col",{staticClass:"col-12"},[r("v-progress-linear",{attrs:{active:"",value:e.zauzetaMestaPercent,height:"20px"}})],1)],1),r("v-row",[r("v-col",{staticClass:"col-12"},[null!==e.projekcija&&e.getIsLoggedIn&&"Admin"===e.getCurrentUserUloga?r("KarteTable",{attrs:{karte:e.getKarteForProjekcija(e.projekcija.id),showProjekcija:!1}}):e._e()],1)],1),e.getIsLoggedIn&&"Admin"===e.getCurrentUserUloga?r("DeleteProjekcijaDialog",{attrs:{projekcija:e.projekcija}}):e._e()],1):e._e()},ha=[],ga=(r("b65f"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-btn",{attrs:{color:"secondary",absolute:"",bottom:"",right:"",fab:""},on:{click:function(t){e.modalDialogVisible=!0}}},[r("v-icon",[e._v("mdi-delete")]),r("ModalDialog",{attrs:{title:"Brisanje projekcije",text:"Jeste li sigurni da zelite obrisati projekciju?",visible:e.modalDialogVisible},on:{response:function(t){return e.deleteProjekcija(t)}}}),r("InformationDialog",{attrs:{color:e.informationDialogColor,title:e.informationDialogTitle,text:e.informationDialogText,visible:e.informationDialogVisible},on:{response:function(t){return e.closeInfoDialog()}}})],1)}),ka=[],Da=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{persistent:"","max-width":"80vh"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[r("v-card",[r("v-card-title",{class:"headline "+e.color+" "+("primary"===e.color?"white--text":"")},[e._v(" "+e._s(e.title)+" ")]),r("v-card-text",{staticClass:"mt-2"},[e._v(" "+e._s(e.text)+" ")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:e.color},on:{click:function(t){return e.emitResponse(!0)}}},[e._v("Da")]),r("v-btn",{attrs:{color:e.color,text:""},on:{click:function(t){return e.emitResponse(!1)}}},[e._v("Ne")])],1)],1)],1)},Oa=[],Pa={name:"ModalDialog",props:{visible:{type:Boolean,required:!0,default:!1},color:{type:String,required:!1,default:"primary"},title:{type:String,required:!1,default:""},text:{type:String,required:!1,default:""}},methods:{emitResponse:function(e){this.$emit("response",e)}}},wa=Pa,_a=Object(g["a"])(wa,Da,Oa,!1,null,null,null),ya=_a.exports;D()(_a,{VBtn:O["a"],VCard:P["a"],VCardActions:Y["a"],VCardText:Y["c"],VCardTitle:Y["d"],VDialog:w["a"],VSpacer:Q["a"]});var xa=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[r("v-card",[r("v-card-title",{class:"headline "+e.color},[e._v(" "+e._s(e.title)+" ")]),r("v-card-text",{staticClass:"mt-2"},[e._v(" "+e._s(e.text)+" ")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:e.color,text:""},on:{click:function(t){return e.emitResponse(!0)}}},[e._v("Ok")])],1)],1)],1)},za=[],Va={name:"ModalDialog",props:{visible:{type:Boolean,required:!0,default:!1},color:{type:String,required:!1,default:"primary"},title:{type:String,required:!1,default:""},text:{type:String,required:!1,default:""}},methods:{emitResponse:function(e){this.$emit("response",e)}}},Ca=Va,Sa=Object(g["a"])(Ca,xa,za,!1,null,null,null),Fa=Sa.exports;function Ta(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ia(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ta(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ta(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}D()(Sa,{VBtn:O["a"],VCard:P["a"],VCardActions:Y["a"],VCardText:Y["c"],VCardTitle:Y["d"],VDialog:w["a"],VSpacer:Q["a"]});var Ra={name:"DeleteProjekcijaDialog",props:{projekcija:{type:Object,required:!0,default:null}},components:{ModalDialog:ya,InformationDialog:Fa},data:function(){return{modalDialogVisible:!1,informationDialogVisible:!1,informationDialogText:"",informationDialogTitle:"",informationDialogColor:"primary",deleteSuccessful:!1}},methods:Ia({},Object(p["b"])(["deleteProjekcijaAction"]),{deleteProjekcija:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=9;break}return this.modalDialogVisible=!1,e.next=4,this.deleteProjekcijaAction(this.projekcija);case 4:r=e.sent,!0===r?(this.informationDialogTitle="Uspeh",this.informationDialogText="Uspesno ste obrisali",this.informationDialogColor="success",this.deleteSuccessful=!0):(this.informationDialogTitle="Greska",this.informationDialogText="Doslo je do greske",this.informationDialogColor="error",this.deleteSuccessful=!1),this.informationDialogVisible=!0,e.next=10;break;case 9:this.modalDialogVisible=!1;case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),closeInfoDialog:function(){this.informationDialogVisible=!1,this.informationDialogTitle="",this.informationDialogText="",this.informationDialogColor="",this.deleteSuccessful&&this.$router.push("/")}})},Ea=Ra,Ua=Object(g["a"])(Ea,ga,ka,!1,null,null,null),Aa=Ua.exports;function $a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function La(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$a(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}D()(Ua,{VBtn:O["a"],VIcon:y["a"]});var Ka={name:"Projekcija",components:{RezervacijaKarteDialog:It,DeleteProjekcijaDialog:Aa,KarteTable:Br},props:{id:{type:String,required:!0}},data:function(){return{projekcija:null}},methods:La({},Object(p["b"])(["fetchKarte"])),computed:La({},Object(p["c"])(["getProjekcija","getFullServerAddress","getIsLoggedIn","getCurrentUserUloga","getProjekcijaHasFreeSeats","getKarteForProjekcija"]),{strVremeProjekcije:function(){return null!==this.projekcija?kt()(this.projekcija.datumVremePrikazivanja).format("hh:mm D.M.YYYY"):""}}),asyncComputed:{zauzetost:{get:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null===this.projekcija){e.next=6;break}return e.next=3,f.a.get("".concat(this.getFullServerAddress,"/ZauzetaSedistaZaProjekciju?projekcijaId=").concat(this.projekcija.id)).then((function(e){return e.data})).catch((function(e){return console.log(e),"Not Available"}));case 3:return e.abrupt("return",e.sent);case 6:return e.abrupt("return",[]);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),default:[]},slobodnaMesta:{get:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.zauzetost;case 2:return t=e.sent,e.abrupt("return","".concat(t.filter((function(e){return!e.zauzeto})).length,"/").concat(t.length));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),default:"Not Available"},zauzetaMestaPercent:{default:0,get:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.zauzetost;case 2:return t=e.sent,e.abrupt("return",t.filter((function(e){return e.zauzeto})).length/Math.trunc(t.length/100));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},mounted:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getProjekcija(Number.parseInt(this.id));case 3:return this.projekcija=e.sent,e.next=6,this.fetchKarte();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}()},Ma=Ka,Ba=(r("6832"),r("8e36")),Na=Object(g["a"])(Ma,ba,ha,!1,null,null,null),qa=Na.exports;D()(Na,{VCol:be["a"],VContainer:Ie["a"],VProgressLinear:Ba["a"],VRow:Re["a"]});var Za=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",[r("h1",{staticClass:"ml-2 title"},[e._v("Dodavanje projekcije:")])]),r("v-row",[r("v-form",{staticClass:"col-12",model:{value:e.formData.formValid,callback:function(t){e.$set(e.formData,"formValid",t)},expression:"formData.formValid"}},[r("v-stepper",{attrs:{vertical:""},model:{value:e.stepperData.step,callback:function(t){e.$set(e.stepperData,"step",t)},expression:"stepperData.step"}},[r("v-stepper-step",{attrs:{complete:e.stepperData.step>1,step:"1"}},[e._v("Izbor filma")]),r("v-stepper-content",{attrs:{step:"1"}},[r("v-card",[r("v-list-item",[r("v-autocomplete",{attrs:{label:"Film",items:e.allFilmoviFormated,rules:e.formData.requieredRule},model:{value:e.projekcija.film,callback:function(t){e.$set(e.projekcija,"film",t)},expression:"projekcija.film"}})],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary",disabled:null===e.projekcija.film},on:{click:function(t){e.stepperData.step=2}}},[e._v("Dalje")])],1)],1)],1),r("v-stepper-step",{attrs:{complete:e.stepperData.step>2,step:"2"}},[e._v("Izbor datuma")]),r("v-stepper-content",{attrs:{step:"2"}},[r("v-card",[r("v-list-item",[r("v-menu",{ref:"dateMenu",attrs:{"close-on-content-click":!1,"return-value":e.componentData.date,transition:"scale-transition","offset-y":"","max-width":"60vw","min-width":"40vw"},on:{"update:returnValue":function(t){return e.$set(e.componentData,"date",t)},"update:return-value":function(t){return e.$set(e.componentData,"date",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-text-field",e._g({attrs:{label:"Picker in menu","prepend-icon":"mdi-calendar-range",readonly:""},model:{value:e.componentData.date,callback:function(t){e.$set(e.componentData,"date",t)},expression:"componentData.date"}},a))]}}]),model:{value:e.componentData.dateMenu,callback:function(t){e.$set(e.componentData,"dateMenu",t)},expression:"componentData.dateMenu"}},[r("v-date-picker",{attrs:{"no-title":"",scrollable:"","full-width":"",min:e.minDate},model:{value:e.componentData.date,callback:function(t){e.$set(e.componentData,"date",t)},expression:"componentData.date"}},[r("v-spacer"),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.componentData.dateMenu=!1}}},[e._v("Cancel")]),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dateMenu.save(e.componentData.date)}}},[e._v("Ok")])],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary",disabled:null===e.componentData.date},on:{click:function(t){e.stepperData.step=3}}},[e._v("Dalje")]),r("v-btn",{staticClass:"primary--text",attrs:{text:""},on:{click:function(t){e.stepperData.step=1}}},[e._v("Nazad")])],1)],1)],1),r("v-stepper-step",{attrs:{complete:e.stepperData.step>3,step:"3"}},[e._v("Izbor vremena")]),r("v-stepper-content",{attrs:{step:"3"}},[r("v-card",[r("v-list-item",[r("v-menu",{ref:"timeMenu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.componentData.time,transition:"scale-transition","offset-y":"","max-width":"80vw","min-width":"40vw"},on:{"update:returnValue":function(t){return e.$set(e.componentData,"time",t)},"update:return-value":function(t){return e.$set(e.componentData,"time",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-text-field",e._g({attrs:{label:"Picker in menu","prepend-icon":"mdi-clock-outline",readonly:""},model:{value:e.componentData.time,callback:function(t){e.$set(e.componentData,"time",t)},expression:"componentData.time"}},a))]}}]),model:{value:e.componentData.timeMenu,callback:function(t){e.$set(e.componentData,"timeMenu",t)},expression:"componentData.timeMenu"}},[e.componentData.timeMenu?r("v-time-picker",{attrs:{"full-width":"",min:e.minTime},on:{"click:minute":function(t){return e.$refs.timeMenu.save(e.componentData.time)}},model:{value:e.componentData.time,callback:function(t){e.$set(e.componentData,"time",t)},expression:"componentData.time"}}):e._e()],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary",disabled:null===e.componentData.time},on:{click:function(t){e.stepperData.step=4}}},[e._v("Dalje")]),r("v-btn",{staticClass:"primary--text",attrs:{text:""},on:{click:function(t){e.stepperData.step=2}}},[e._v("Nazad")])],1)],1)],1),r("v-stepper-step",{attrs:{complete:e.stepperData.step>4,step:"4"}},[e._v("Izbor tipa projekcije")]),r("v-stepper-content",{attrs:{step:"4"}},[r("v-card",[r("v-list-item",[r("v-autocomplete",{attrs:{label:"Tip projekcije",items:e.allTipoviProjekcijeFormated,rules:e.formData.requieredRule},model:{value:e.projekcija.tipProjekcije,callback:function(t){e.$set(e.projekcija,"tipProjekcije",t)},expression:"projekcija.tipProjekcije"}})],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary",disabled:null===e.projekcija.tipProjekcije},on:{click:function(t){e.stepperData.step=5}}},[e._v("Dalje")]),r("v-btn",{staticClass:"primary--text",attrs:{text:""},on:{click:function(t){e.stepperData.step=3}}},[e._v("Nazad")])],1)],1)],1),r("v-stepper-step",{attrs:{complete:e.stepperData.step>5,step:"5"}},[e._v("Izbor sale")]),r("v-stepper-content",{attrs:{step:"5"}},[r("v-card",[r("v-list-item",[r("v-autocomplete",{attrs:{label:"Sala",items:e.availableSaleFormated,rules:e.formData.requieredRule},model:{value:e.projekcija.sala,callback:function(t){e.$set(e.projekcija,"sala",t)},expression:"projekcija.sala"}})],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary",disabled:null===e.projekcija.sala},on:{click:function(t){e.stepperData.step=6}}},[e._v("Dalje")]),r("v-btn",{staticClass:"primary--text",attrs:{text:""},on:{click:function(t){e.stepperData.step=4}}},[e._v("Nazad")])],1)],1)],1),r("v-stepper-step",{attrs:{complete:e.stepperData.step>6,step:"6"}},[e._v("Cena karte")]),r("v-stepper-content",{attrs:{step:"6"}},[r("v-card",[r("v-list-item",[r("v-text-field",{ref:"cenaTF",attrs:{label:"Cena karte",suffix:"din",rules:e.formData.cenaRules},model:{value:e.projekcija.cenaKarte,callback:function(t){e.$set(e.projekcija,"cenaKarte",t)},expression:"projekcija.cenaKarte"}})],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary",disabled:!!e.$refs.cenaTF&&!e.$refs.cenaTF.valid},on:{click:function(t){e.stepperData.step=7}}},[e._v("Dalje")]),r("v-btn",{staticClass:"primary--text",attrs:{text:""},on:{click:function(t){e.stepperData.step=5}}},[e._v("Nazad")])],1)],1)],1),r("v-stepper-step",{attrs:{complete:e.stepperData.step>7,step:"7"}},[e._v("Pregled i dodavanje")]),r("v-stepper-content",{attrs:{step:"7"}},[r("v-card",[r("v-card-title",[e._v(" Projekcija: ")]),null!==e.projekcija.film?r("v-list-item",[r("span",[e._v("Film: ")]),r("v-spacer"),e._v(e._s(e.projekcija.film.naziv)+" ")],1):e._e(),null!==e.projekcija.datumVremePrikazivanja?r("v-list-item",[r("span",[e._v("Termin projekcije: ")]),r("v-spacer"),e._v(e._s(e.projekcija.datumVremePrikazivanja.toLocaleString())+" ")],1):e._e(),null!==e.projekcija.tipProjekcije?r("v-list-item",[r("span",[e._v("Tip projekcije: ")]),r("v-spacer"),e._v(e._s(e.projekcija.tipProjekcije.naziv)+" ")],1):e._e(),null!==e.projekcija.sala?r("v-list-item",[r("span",[e._v("Sala: ")]),r("v-spacer"),e._v(e._s(e.projekcija.sala.naziv)+" ")],1):e._e(),null!==e.projekcija.cena?r("v-list-item",[r("span",[e._v("Cena karte: ")]),r("v-spacer"),e._v(e._s(e.projekcija.cenaKarte)+" ")],1):e._e(),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary",disabled:!e.formData.formValid},on:{click:function(t){return e.dodaj()}}},[e._v("Dodaj")]),r("v-btn",{staticClass:"primary--text",attrs:{text:""},on:{click:function(t){e.stepperData.step=6}}},[e._v("Nazad")])],1)],1)],1)],1)],1)],1),r("v-dialog",{attrs:{width:"60vw"},model:{value:e.componentData.modalOpen,callback:function(t){e.$set(e.componentData,"modalOpen",t)},expression:"componentData.modalOpen"}},[r("v-card",[r("v-card-title",{staticClass:"headline",attrs:{"primary-title":""}},[e._v(" "+e._s(e.componentData.modalTitle)+" ")]),r("v-card-text",[e._v(" "+e._s(e.componentData.modalText)+" ")]),r("v-divider"),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return e.zatvoriModal()}}},[e._v(" Ok ")])],1)],1)],1)],1)},Ja=[];function Ga(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ha(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ga(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ga(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ya={name:"AddProjekcija",data:function(){return{stepperData:{step:1},formData:{formValid:!1,cenaRules:[function(e){return!!/^\d{1,}$/.test(e)||"Mora biti broj"},function(e){return Number.parseInt(e)>0||"Cena mora biti veca od 0"}],requieredRule:[function(e){return null!==e||"Obavezno polje"}]},projekcija:{id:0,film:null,tipProjekcije:null,sala:null,datumVremePrikazivanja:null,cenaKarte:0},componentData:{time:null,timeMenu:!1,date:null,dateMenu:!1,modalOpen:!1,modalType:!1,modalTitle:"",modalText:""}}},methods:Ha({},Object(p["b"])(["fetchFilmovi","fetchSale","fetchProjekcije","fetchZauzetost","fetchTipoviProjekcije","addProjekcija"]),{dodaj:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.addProjekcija(this.projekcija);case 2:if(!e.sent){e.next=8;break}this.componentData.modalType=!0,this.componentData.modalTitle="Uspeh",this.componentData.modalText="Uspesno ste dodali projekciju",e.next=11;break;case 8:this.componentData.modalType=!1,this.componentData.modalTitle="Greska",this.componentData.modalText="Doslo je do greske projekcija nije dodata";case 11:this.componentData.modalOpen=!0;case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),zatvoriModal:function(){this.componentData.modalOpen=!1,this.componentData.modalType&&this.$router.push("/")}}),computed:Ha({},Object(p["c"])(["allFilmovi","allTipoviProjekcije","getSlobodneSaleForTipProjekcije"]),{allFilmoviFormated:function(){return this.allFilmovi.map((function(e){return{text:e.naziv,value:e}}))},allTipoviProjekcijeFormated:function(){return this.allTipoviProjekcije.map((function(e){return{text:e.naziv,value:e}}))},datumVremeProjekcijeComputed:function(){return null!==this.componentData.time&&null!==this.componentData.date?kt()("".concat(this.componentData.date," ").concat(this.componentData.time)).toDate():null},availableSaleFormated:function(){if(null!==this.projekcija.film&&null!==this.projekcija.tipProjekcije&&null!==this.projekcija.datumVremePrikazivanja){var e=this.getSlobodneSaleForTipProjekcije(this.projekcija.datumVremePrikazivanja,this.projekcija.film,this.projekcija.tipProjekcije);return e.map((function(e){return{text:e.naziv,value:e}}))}return[]},minDate:function(){return kt()(Date.now()).format()},minTime:function(){return null!==this.componentData.date&&kt()(this.componentData.date).isSameOrBefore(Date.now())?kt()(new Date(Date.now())).format("HH:mm"):void 0},cenaValid:function(){return"undefined"!==typeof this.$refs.cenaTF&&this.$refs.cenaTF.valid}}),asyncComputed:{},watch:{datumVremeProjekcijeComputed:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.datumVremeProjekcijeComputed;case 2:this.projekcija.datumVremePrikazivanja=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),"projekcija.datumVremePrikazivanja":function(){null!==this.projekcija.datumVremePrikazivanja&&(this.formData.formValid=this.formData.formValid&&!0)}},mounted:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetchFilmovi();case 2:return e.next=4,this.fetchSale();case 4:return e.next=6,this.fetchProjekcije();case 6:return e.next=8,this.fetchZauzetost();case 8:return e.next=10,this.fetchTipoviProjekcije();case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},Qa=Ya,Wa=Object(g["a"])(Qa,Za,Ja,!1,null,null,null),Xa=Wa.exports;D()(Wa,{VAutocomplete:_t["a"],VBtn:O["a"],VCard:P["a"],VCardActions:Y["a"],VCardText:Y["c"],VCardTitle:Y["d"],VContainer:Ie["a"],VDatePicker:aa["a"],VDialog:w["a"],VDivider:oe["a"],VForm:_["a"],VListItem:z["a"],VMenu:ce["a"],VRow:Re["a"],VSpacer:Q["a"],VStepper:yt["a"],VStepperContent:xt["a"],VStepperStep:zt["a"],VTextField:S["a"],VTimePicker:ia["b"]});var en=function(){var e=this,t=e.$createElement,r=e._self._c||t;return null===e.karta||!e.getIsLoggedIn||"Admin"!==e.getCurrentUserUloga&&e.getCurrentUserId!==e.karta.korisnik.id?r("v-container",[e._v(" Ovu kartu moze pregledati samo admin ili onaj ko je rezervisao ")]):r("v-container",{staticClass:"elevation-2 mx-auto mt-4"},[r("v-row",{staticClass:"elevation-2"},[r("v-col",{attrs:{cols:"12"}},[r("h1",{staticClass:"title font-weight-bold"},[e._v("Karta za "),r("router-link",{attrs:{to:"/Film/"+e.karta.projekcija.film.id}},[e._v(e._s(e.karta.projekcija.film.naziv))]),e._v(" u "),r("router-link",{attrs:{to:"/Projekcija/"+e.karta.projekcija.id}},[e._v(e._s(e.projekcijaTime))])],1)])],1),r("v-row",[r("v-col",{attrs:{cols:"2"}},[e._v("Datum:")]),r("v-col",{attrs:{cols:"2"}},[e._v(e._s(e.projekcijaDate))])],1),r("v-row",[r("v-col",{attrs:{cols:"2"}},[e._v("Tip projekcije:")]),r("v-col",{attrs:{cols:"2"}},[e._v(e._s(e.karta.projekcija.tipProjekcije.naziv))])],1),r("v-row",[r("v-col",{attrs:{cols:"2"}},[e._v("Sala:")]),r("v-col",{attrs:{cols:"2"}},[e._v(e._s(e.karta.projekcija.sala.naziv))])],1),r("v-row",[r("v-col",{attrs:{cols:"2"}},[e._v("Sediste:")]),r("v-col",{attrs:{cols:"2"}},[e._v(e._s(e.karta.sediste.redniBroj))])],1),r("v-row",[r("v-col",{attrs:{cols:"2"}},[e._v("Cena:")]),r("v-col",{attrs:{cols:"2"}},[e._v(e._s(e.karta.projekcija.cenaKarte))])],1),r("v-row",[r("v-col",{attrs:{cols:"2"}},[e._v("Korisnik:")]),r("v-col",{attrs:{cols:"2"}},[e._v(e._s(e.karta.korisnik.username))])],1),null!==e.karta&&e.deleteBtnVisible?r("DeleteKartaDialog",{attrs:{karta:e.karta}}):e._e()],1)},tn=[],rn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-btn",{attrs:{color:"secondary",absolute:"",bottom:"",right:"",fab:""},on:{click:function(t){e.modalDialogVisible=!0}}},[r("v-icon",[e._v("mdi-delete")]),r("ModalDialog",{attrs:{title:"Brisanje karte",text:"Jeste li sigurni da zelite obrisati kartu?",visible:e.modalDialogVisible},on:{response:function(t){return e.deleteKarta(t)}}}),r("InformationDialog",{attrs:{color:e.informationDialogColor,title:e.informationDialogTitle,text:e.informationDialogText,visible:e.informationDialogVisible},on:{response:function(t){return e.closeInfoDialog()}}})],1)},an=[];function nn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function on(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nn(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var sn={name:"DeleteKartaDialog",props:{karta:{type:Object,required:!0,default:null}},components:{ModalDialog:ya,InformationDialog:Fa},data:function(){return{modalDialogVisible:!1,informationDialogVisible:!1,informationDialogText:"",informationDialogTitle:"",informationDialogColor:"primary",deleteSuccessful:!1}},methods:on({},Object(p["b"])(["obrisiKartu"]),{deleteKarta:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=9;break}return this.modalDialogVisible=!1,e.next=4,this.obrisiKartu(this.karta);case 4:r=e.sent,!0===r?(this.informationDialogTitle="Uspeh",this.informationDialogText="Uspesno ste obrisali",this.informationDialogColor="success",this.deleteSuccessful=!0):(this.informationDialogTitle="Greska",this.informationDialogText="Doslo je do greske",this.informationDialogColor="error",this.deleteSuccessful=!1),this.informationDialogVisible=!0,e.next=10;break;case 9:this.modalDialogVisible=!1;case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),closeInfoDialog:function(){this.informationDialogVisible=!1,this.informationDialogTitle="",this.informationDialogText="",this.informationDialogColor="",this.deleteSuccessful&&this.$router.push("/")}})},cn=sn,ln=Object(g["a"])(cn,rn,an,!1,null,null,null),un=ln.exports;function mn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function dn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mn(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}D()(ln,{VBtn:O["a"],VIcon:y["a"]});var fn={name:"Karta",components:{DeleteKartaDialog:un},props:{kartaId:{type:String,required:!0,default:null}},data:function(){return{karta:null}},methods:dn({},Object(p["b"])(["fetchKarte"]),{setKarta:function(){null!==this.kartaId&&/^\d{1,}$/.test(this.kartaId)&&(this.karta=this.getKartaById(Number.parseInt(this.kartaId)))}}),computed:dn({},Object(p["c"])(["getKartaById","getIsLoggedIn","getCurrentUserUloga","getCurrentUserId"]),{projekcijaTime:function(){return null!==this.karta?kt()(this.karta.projekcija.datumVremePrikazivanja).format("hh:mm"):""},projekcijaDate:function(){return null!==this.karta?kt()(this.karta.projekcija.datumVremePrikazivanja).format("DD-MM-YYYY"):""},projekcijaHasPassed:function(){return null===this.karta||kt()(new Date(this.karta.projekcija.datumVremePrikazivanja)).isBefore(new Date(Date.now()))},deleteBtnVisible:function(){return null!==this.karta&&this.getIsLoggedIn&&"Admin"===this.getCurrentUserUloga&&!this.projekcijaHasPassed}}),watch:{kartaId:function(){this.setKarta()}},mounted:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetchKarte();case 2:this.setKarta();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},pn=fn,vn=Object(g["a"])(pn,en,tn,!1,null,null,null),jn=vn.exports;D()(vn,{VCol:be["a"],VContainer:Ie["a"],VRow:Re["a"]}),a["a"].use(Oe["a"]);var bn=[{path:"/",name:"Home",component:gr},{path:"/Filmovi",name:"Filmovi",component:Ye},{path:"/Film/:id",name:"Film",component:Mt,props:!0},{path:"/AddFilm",name:"AddFilm",component:Ae,props:!0},{path:"/Korisnici",name:"Korisnici",component:xr},{path:"/Korisnik/:id",name:"Korisnik",component:Yr,props:!0},{path:"/Projekcije",name:"Projekcije",component:ja},{path:"/Projekcija/:id",name:"Projekcija",component:qa,props:!0},{path:"/RezervacijaKarte",name:"RezervacijaKarte",component:Ct},{path:"/AddProjekcija",name:"AddProjekcija",component:Xa},{path:"/Karta/:kartaId",name:"Karta",component:jn,props:!0},{path:"*",name:"Any",component:gr}],hn=new Oe["a"]({base:"/Bioskop/",mode:"history",routes:bn}),gn=hn,kn=(r("fb6a"),{filmovi:[]}),Dn={allFilmovi:function(e){return e.filmovi},filteredFilmovi:function(e){return function(t){return e.filmovi.filter(t)}},getFilm:function(e){return function(t){return e.filmovi.filter((function(e){return e.id===t}))[0]}},get5NewestFilms:function(e){return e.filmovi.sort((function(e,t){return e.id<t.id?-1:e.id>t.id?1:0})).slice(-5)},getFilmIdAvailableInFilmovi:function(e){return function(t){return e.filmovi.filter((function(e){return e.id===t})).length>0}}},On={fetchFilmovi:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,f.a.get("".concat(li.getters.getFullServerAddress,"/Filmovi")).then((function(e){return r("SET_FILMS",e.data)})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),addFilm:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,f.a.post("".concat(li.getters.getFullServerAddress,"/Film"),r).then((function(e){return!!e.data.successful&&(r.id=e.data.id,a("ADD_FILM",r),!0)})).catch((function(e){return console.log(e),!1}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),editFilm:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,f.a.put("".concat(li.getters.getFullServerAddress,"/Film"),r).then((function(e){return e.successful&&a("UPDATE_FILM",r),e.successful})).catch((function(e){return console.log(e),!1}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),deleteFilm:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,f.a.delete("".concat(li.getters.getFullServerAddress,"/Film?id=").concat(r)).then((function(e){return e.data.successful})).catch((function(e){return console.log(e),!1}));case 3:if(!e.sent){e.next=8;break}return a("DELETE_FILM",r),e.abrupt("return",!0);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},Pn={SET_FILMS:function(e,t){return e.filmovi=t},ADD_FILM:function(e,t){return e.filmovi.push(t)},DELETE_FILM:function(e,t){return e.filmovi=e.filmovi.filter((function(e){return e.id!==t}))},UPDATE_FILM:function(e,t){var r=e.filmovi.findIndex((function(e){return e.id===t.id}));e.filmovi[r]=t}},wn={state:kn,getters:Dn,actions:On,mutations:Pn},_n=r("f309");a["a"].use(_n["a"]);var yn=new _n["a"]({theme:{themes:{light:{primary:"#6a2109",secondary:"#6c80a1",accent:"#ff5722",error:"#f44336",warning:"#ffeb3b",info:"#cddc39",success:"#8bc34a"}},options:{customProperties:!0}}}),xn=yn,zn={baseTheme:{primary:"#6a2109",secondary:"#6c80a1",accent:"#ff5722",error:"#f44336",warning:"#ffeb3b",info:"#cddc39",success:"#8bc34a"},currentTheme:{primary:"#ffc107",secondary:"#ff9800",accent:"#ff5722",error:"#f44336",warning:"#ffeb3b",info:"#cddc39",success:"#8bc34a"}},Vn={getBaseTheme:function(e){return JSON.parse(JSON.stringify(e.baseTheme))},getCurrentTheme:function(e){return JSON.parse(JSON.stringify(e.currentTheme))}},Cn={setCurrentTheme:function(e,t){var r=e.commit;xn.framework.theme.themes.light=t,r("SET_CURRENT_THEME",t)},setCurrentThemeToBase:function(e){var t=e.commit;xn.framework.theme.themes.light=zn.baseTheme,t("SET_CURRENT_THEME",zn.baseTheme)}},Sn={SET_BASE_THEME:function(e,t){return e.baseTheme=t},SET_CURRENT_THEME:function(e,t){return e.currentTheme=t}},Fn={state:zn,getters:Vn,actions:Cn,mutations:Sn},Tn={serverAddress:"192.168.1.250",serverPort:"8081",serverPath:"Bioskop/api",frontendFullAdress:location.hostname},In={getServerAddress:function(e){return e.serverAddress},getServerPort:function(e){return e.serverPort},getFullServerAddress:function(e){return"http://".concat(e.serverAddress,":").concat(e.serverPort,"/").concat(e.serverPath)},getFrontendFullAdress:function(e){return"http://".concat(e.frontendFullAdress)}},Rn={state:Tn,getters:In},En=r("2b27"),Un=r.n(En),An={currentUser:{id:0,username:"",password:"",datumRegistracije:new Date,uloga:"Gost",obrisan:!1},isLoggedIn:!1},$n={getCurrentUser:function(e){return e.currentUser},getCurrentUserUloga:function(e){return e.currentUser.uloga},getCurrentUserUsername:function(e){return e.currentUser.username},getIsLoggedIn:function(e){return e.isLoggedIn},getCurrentUserId:function(e){return e.currentUser.id}},Ln={setCurrentUser:function(e,t){var r=e.commit;r("SET_CURRENT_USER",t)},login:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,f.a.post("".concat(li.getters.getFullServerAddress,"/Login"),r,{withCredentials:!0}).then((function(e){return!!e.data.successful&&e.data.user})).catch((function(){return!1}));case 3:if(n=e.sent,!1===n){e.next=11;break}return Un.a.set("korisnik",n,"1d",[li.getters.getFrontendFullAdress,"".concat(li.getters.getServerAddress,":").concat(li.getters.serverPort)]),a("SET_CURRENT_USER",n),a("SET_LOGGEDIN",!0),e.abrupt("return",!0);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),logout:function(e){var t=e.commit;Un.a.remove("korisnik"),f.a.get("".concat(li.getters.getFullServerAddress,"/Logout")),t("SET_CURRENT_USER",{uloga:"Neprijavljen"}),t("SET_LOGGEDIN",!1)},fetchLoggedInUser:function(e){var t=e.commit;if(Un.a.isKey("korisnik")){var r=Un.a.get("korisnik");t("SET_CURRENT_USER",r),t("SET_LOGGEDIN",!0)}}},Kn={SET_CURRENT_USER:function(e,t){return e.currentUser=t},SET_LOGGEDIN:function(e,t){return e.isLoggedIn=t}},Mn={state:An,getters:$n,actions:Ln,mutations:Kn},Bn={users:[]},Nn={getAllUsers:function(e){return e.users},getUser:function(e){return function(t){return e.users.filter((function(e){return e.id===t}))[0]}},getIfUserIdInUsers:function(e){return function(t){return e.users.filter((function(e){return e.id===t})).length>0}}},qn={fetchUsers:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,f.a.get("".concat(li.getters.getFullServerAddress,"/Korisnik")).then((function(e){return r("SET_USERS",e.data.map((function(e){return e.datumRegistracije=new Date(e.datumRegistracije),e}))),!0})).catch((function(e){return console.log(e),r("SET_USERS",[]),!1}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),updateUser:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,f.a.put("".concat(li.getters.getFullServerAddress,"/Korisnik"),r).then((function(e){return!!e.data.successful&&(a("UPDATE_USER",r),!0)})).catch((function(e){return console.log(e),!1}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),deleteUser:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,f.a.delete("".concat(li.getters.getFullServerAddress,"/Korisnik?id=").concat(r)).then((function(e){return!!e.data.successful&&(a("DELETE_USER",r),!0)})).catch((function(e){return console.log(e),!1}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},Zn={SET_USERS:function(e,t){return e.users=t},UPDATE_USER:function(e,t){var r=e.users.findIndex((function(e){return e.id===t.id}));e.users[r]=t},DELETE_USER:function(e,t){return e.users=e.users.filter((function(e){return e.id!==t}))}},Jn={state:Bn,getters:Nn,actions:qn,mutations:Zn},Gn=(r("4ec9"),r("d3b7"),r("3ca3"),r("ddb0"),r("d531"));function Hn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Yn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hn(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Qn=Object(Gn["extendMoment"])(kt.a),Wn={projekcije:[],zauzetost:new Map,sale:[],tipoviProjekcije:[]},Xn={allProjekcije:function(e){return e.projekcije},getZauzetost:function(e){return e.zauzetost},getZauzetostForProjekcija:function(e){return function(t){return e.zauzetost.get(t)}},getFilmHasFreeProjekcijeInFuture:function(e){return function(t){return li.getters.getProjekcijeForFilmInFuture(t).map((function(t){return t=Yn({},t,{zauzetost:e.zauzetost.get(t.id)?e.zauzetost.get(t.id):[]}),t})).filter((function(e){return e.zauzetost.filter((function(e){return!e.zauzeto})).length>0})).length>0}},getDanasnjeProjekcijeSortedAsPerSpecification:function(e){return e.projekcije.filter((function(e){return Qn(e.datumVremePrikazivanja).isBetween(Qn().startOf("day"),Qn().endOf("day"))})).sort((function(e,t){return 0===e.film.naziv.localeCompare(t.film.naziv)?Qn(e.datumVremePrikazivanja).isBefore(t.datumVremePrikazivanja)?-1:Qn(e.datumVremePrikazivanja).isAfter(t.datumVremePrikazivanja)?1:0:e.film.naziv.localeCompare(t.film.naziv)}))},getProjekcija:function(e){return function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.projekcije.filter((function(e){return e.id===r})),0!==a.length){t.next=7;break}return t.next=4,f.a.get("".concat(li.getters.getFullServerAddress,"/Projekcija?id=").concat(r)).then((function(e){var t=e.data;return t.datumVremePrikazivanja=new Date(t.datumVremePrikazivanja),t["prosla"]=function(){return Qn(t.datumVremePrikazivanja).isBefore(new Date(Date.now()))},t})).catch((function(e){return console.log(e),null}));case 4:return t.abrupt("return",t.sent);case 7:return t.abrupt("return",a[0]);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getFilmHasProjekcijaInFuture:function(e){return function(t){return e.projekcije.filter((function(e){return!e.prosla()})).filter((function(e){return e.film.id===t})).length>0}},getProjekcijeForFilmInFuture:function(e){return function(t){return e.projekcije.filter((function(e){return!e.prosla()})).filter((function(e){return e.film.id===t}))}},getProjekcijaHasFreeSeats:function(e){return function(t){var r=e.zauzetost.get(t).filter((function(e){return e.zauzeto})).length;return r<e.zauzetost.get(t).length}},allTipoviProjekcije:function(e){return e.tipoviProjekcije},allSale:function(e){return e.sale},getSlobodneSaleForTipProjekcije:function(e){return function(t,r,a){var n=e.sale.filter((function(e){return e.podrzaniTipoviProjekcija.filter((function(e){return e.id===a.id})).length>0}));return n=n.filter((function(a){var n=e.projekcije.filter((function(e){var a=e.datumVremePrikazivanja,n=Qn(e.datumVremePrikazivanja).add(e.film.trajanje,"s").toDate(),i=Qn.range(a,n),o=t,s=Qn(t).add(r.trajanje,"s").toDate(),c=Qn.range(o,s);return i.overlaps(c)})).map((function(e){return e.sala.id})).includes(a.id);return!n})),n}}},ei={fetchProjekcije:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,f.a.get("".concat(li.getters.getFullServerAddress,"/Projekcija")).then((function(e){return r("SET_PROJEKCIJE",e.data.map((function(e){return e.datumVremePrikazivanja=new Date(e.datumVremePrikazivanja),e["prosla"]=function(){return Qn(e.datumVremePrikazivanja).isBefore(new Date(Date.now()))},e})))})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),fetchZauzetost:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=new Map,e.next=4,li.getters.allProjekcije.forEach(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(li.getters.getFullServerAddress,"/ZauzetaSedistaZaProjekciju?projekcijaId=").concat(t.id)).then((function(e){a.set(t.id,e.data)})).catch((function(e){console.log(e),a.set(t.id,null)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:r("SET_ZAUZETOST",a);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),fetchSale:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,f.a.get("".concat(li.getters.getFullServerAddress,"/Sala")).then((function(e){return r("SET_SALE",e.data)})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),fetchTipoviProjekcije:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,f.a.get("".concat(li.getters.getFullServerAddress,"/TipProjekcije")).then((function(e){return r("SET_TIP_PROJEKCIJE",e.data)})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),addProjekcija:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,f.a.post("".concat(li.getters.getFullServerAddress,"/Projekcija"),r).then((function(e){return!!e.data.successful&&(r.id=e.data.id,r["prosla"]=function(){return Qn(r.datumVremePrikazivanja).isBefore(new Date(Date.now()))},a("ADD_PROJEKCIJA",r),!0)})).catch((function(e){return console.log(e),!1}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),deleteProjekcijaAction:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,f.a.delete("".concat(li.getters.getFullServerAddress,"/Projekcija?id=").concat(r.id)).then((function(e){return!!e.data.successful&&(a("DELETE_PROJEKCIJA",r),!0)})).catch((function(e){return console.log(e),!1}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},ti={SET_PROJEKCIJE:function(e,t){return e.projekcije=t},SET_ZAUZETOST:function(e,t){return e.zauzetost=t},SET_SALE:function(e,t){return e.sale=t},SET_TIP_PROJEKCIJE:function(e,t){return e.tipoviProjekcije=t},ADD_PROJEKCIJA:function(e,t){return e.projekcije.push(t)},DELETE_PROJEKCIJA:function(e,t){e.zauzetost.delete(t);var r=e.projekcije.findIndex((function(e){return e.id===t.id}));-1!==r&&e.projekcije.pop(r)}},ri={state:Wn,getters:Xn,actions:ei,mutations:ti},ai=r("2909"),ni={karte:[]},ii={getKarteForProjekcija:function(e){return function(t){return e.karte.filter((function(e){return e.projekcija.id===t}))}},getKarteForKorisnik:function(e){return function(t){return e.karte.filter((function(e){return e.korisnik.id===t}))}},getKarte:function(e){return e.karte},getKartaById:function(e){return function(t){return e.karte.filter((function(e){return e.id===t}))[0]}}},oi={rezervisiKartu:function(e,t){var r=e.commit;r("REZERVISI_KARTU",t)},rezervisiKarte:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,f.a.post("".concat(li.getters.getFullServerAddress,"/Karta"),r).then((function(e){return a("REZERVISI_KARTE",e.data.karte),!0})).catch((function(e){return console.log(e),!1}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),fetchKarte:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,f.a.get("".concat(li.getters.getFullServerAddress,"/Karta")).then((function(e){return r("SET_KARTE",e.data),!0})).catch((function(e){return console.log(e),!1}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),obrisiKartu:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,f.a.delete("".concat(li.getters.getFullServerAddress,"/Karta?id=").concat(r.id)).then((function(e){return!!e.data.successful&&(a("DELETE_KARTA",r),!0)})).catch((function(e){return console.log(e),!1}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},si={REZERVISI_KARTU:function(e,t){return e.karte.append(t)},REZERVISI_KARTE:function(e,t){return e.karte=[].concat(Object(ai["a"])(e.karte),Object(ai["a"])(t))},SET_KARTE:function(e,t){return e.karte=t},DELETE_KARTA:function(e,t){var r=e.karte.findIndex((function(e){return e.id===t.id}));-1!==r&&e.karte.pop(r)}},ci={state:ni,getters:ii,actions:oi,mutations:si};a["a"].use(p["a"]);var li=new p["a"].Store({state:{},mutations:{},actions:{},modules:{filmoviModule:wn,themeModule:Fn,serverGlobalsModule:Rn,currentUserModule:Mn,usersModule:Jn,projekcijeModule:ri,karteModule:ci}}),ui=r("3003");f.a.defaults.withCredentials=!0,a["a"].use(ui["a"]),a["a"].use(Un.a),a["a"].config.productionTip=!1,new a["a"]({router:gn,store:li,vuetify:xn,render:function(e){return e(De)}}).$mount("#app")},"60f8":function(e,t,r){"use strict";var a=r("27a1"),n=r.n(a);n.a},6832:function(e,t,r){"use strict";var a=r("b667"),n=r.n(a);n.a},"90f5":function(e,t,r){},"963b":function(e,t,r){e.exports=r.p+"img/film-poster-placeholder.d1b4253f.png"},b667:function(e,t,r){},bebb:function(e,t,r){"use strict";var a=r("2ca3"),n=r.n(a);n.a},cccb:function(e,t,r){"use strict";var a=r("4230"),n=r.n(a);n.a},d67b:function(e,t,r){"use strict";var a=r("dde3"),n=r.n(a);n.a},dde3:function(e,t,r){}});
//# sourceMappingURL=app.e7caf7c3.js.map