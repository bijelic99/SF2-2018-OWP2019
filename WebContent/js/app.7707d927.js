(function(e){function t(t){for(var n,o,s=t[0],c=t[1],l=t[2],m=0,f=[];m<s.length;m++)o=s[m],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(f.length)f.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,s=1;s<r.length;s++){var c=r[s];0!==a[c]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},a={app:0},i=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/Bioskop/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"27a1":function(e,t,r){},4230:function(e,t,r){},"44f8":function(e,t,r){"use strict";var n=r("90f5"),a=r.n(n);a.a},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("Toolbar"),r("v-content",[r("router-view")],1),r("v-footer",{staticClass:"primary",attrs:{elevation:24}},[r("v-col",{staticClass:"text-center white--text",attrs:{cols:"12"}},[e._v(" "+e._s((new Date).getFullYear())+" â€” "),r("strong",[e._v("Dejan Bijelic")])])],1)],1)},i=[],o=(r("a4d3"),r("4de4"),r("caad"),r("e439"),r("dbb4"),r("b64b"),r("2532"),r("159b"),r("96cf"),r("1da1")),s=r("ade3"),c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-app-bar",{staticClass:"pr-12",attrs:{app:"","elevate-on-scroll":"",dark:"",color:"primary"}},[r("v-app-bar-nav-icon",{on:{click:function(t){e.navigationDrawerData.open=!e.navigationDrawerData.open}}}),r("v-toolbar-title",[e._v("Bioskop")]),r("v-spacer"),r("v-menu",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{icon:""}},n),[r("v-icon",[e._v("mdi-dots-vertical")]),e.getIsLoggedIn?r("span",[e._v(e._s(e.getCurrentUserUsername))]):r("span",[e._v("Registruj se")])],1)]}}])},[r("v-card",[r("v-list",[r("v-list-item",[r("v-list-item-content",{class:e.getIsLoggedIn?"w-25":""},[e.getIsLoggedIn?r("span",{staticClass:"no-underline"},[r("v-icon",[e._v("mdi-account")]),e._v(" "),r("router-link",{attrs:{to:"/Korisnik/"+e.getCurrentUserId}},[e._v(e._s(e.getCurrentUserUsername))])],1):r("p",[e._v(" Neke funkcionalnosti aplikacije su nedostupne neulogovanim korisnicima. "),r("br"),e._v("Prijavite se ili registrujte ako vec nemate nalog ")])])],1)],1),r("v-divider"),r("v-card-actions",[e.getIsLoggedIn?e._e():r("LoginDialog"),e.getIsLoggedIn?r("v-btn",{attrs:{text:"",color:"primary--text",to:"/Korisnik/"+e.getCurrentUserId}},[e._v("Profil")]):e._e(),r("v-spacer"),e.getIsLoggedIn?r("LogoutDialog"):e._e(),e.getIsLoggedIn?e._e():r("RegisterDialog")],1)],1)],1)],1),r("v-navigation-drawer",{attrs:{app:""},model:{value:e.navigationDrawerData.open,callback:function(t){e.$set(e.navigationDrawerData,"open",t)},expression:"navigationDrawerData.open"}},[r("v-list-item",[r("v-list-item-content",[r("v-list-item-title",{staticClass:"title"},[e._v("Bioskop")])],1)],1),r("v-divider"),r("v-list",{attrs:{dense:"",nav:""}},e._l(e.visibleNavItems,(function(t){return r("v-list-item",{key:t.title,attrs:{to:t.link,link:""}},[r("v-list-item-icon",[r("v-icon",{staticClass:"secondary--text"},[e._v(e._s(t.icon))])],1),r("v-list-item-content",[r("v-list-item-title",{staticClass:"secondary--text"},[e._v(e._s(t.title))])],1)],1)})),1)],1)],1)},l=[],u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){t.on;return[r("v-btn",{attrs:{color:"primary",dark:""},on:{click:e.openDialog}},[e._v("Registruj se")])]}}]),model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[r("v-card",[r("v-toolbar",{attrs:{dark:"",color:"primary"}},[r("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.visible=!1}}},[r("v-icon",[e._v("mdi-close")])],1),r("v-toolbar-title",[e._v("Registracija")])],1),r("v-list",{staticClass:"mx-12 mt-2"},[r("v-list-item",[r("v-list-item-content",[r("v-form",{ref:"registerForm",model:{value:e.form.valid,callback:function(t){e.$set(e.form,"valid",t)},expression:"form.valid"}},[r("v-text-field",{ref:"registerUsername",attrs:{rules:e.rules.usernameRules,label:"Username"},model:{value:e.form.data.username,callback:function(t){e.$set(e.form.data,"username",t)},expression:"form.data.username"}}),r("v-text-field",{attrs:{rules:e.rules.passwordRules,label:"Password",type:"password"},model:{value:e.form.data.password,callback:function(t){e.$set(e.form.data,"password",t)},expression:"form.data.password"}}),r("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.form.valid,color:"secondary"},on:{click:e.submit}},[e._v("Register")])],1),r("v-snackbar",{attrs:{timeout:e.componentData.snackbarGeneral.timeout,color:"error",dark:""},model:{value:e.form.usernameTaken,callback:function(t){e.$set(e.form,"usernameTaken",t)},expression:"form.usernameTaken"}},[e._v(" Username je zauzet pokusajte sa nekim drugim "),r("v-btn",{attrs:{text:""},on:{click:function(t){e.form.usernameTaken=!1}}},[e._v("Close")])],1),r("v-snackbar",{attrs:{app:"",timeout:e.componentData.snackbarGeneral.timeout,color:"success",dark:""},model:{value:e.componentData.successSnackbar.open,callback:function(t){e.$set(e.componentData.successSnackbar,"open",t)},expression:"componentData.successSnackbar.open"}},[e._v(" Uspesna Registracija "),r("v-btn",{attrs:{text:""},on:{click:function(t){e.componentData.successSnackbar.open=!1}}},[e._v("Close")])],1),r("v-snackbar",{attrs:{timeout:e.componentData.snackbarGeneral.timeout,color:"error",dark:""},model:{value:e.componentData.failSnackbar.open,callback:function(t){e.$set(e.componentData.failSnackbar,"open",t)},expression:"componentData.failSnackbar.open"}},[e._v(" Doslo je do greske "),r("v-btn",{attrs:{text:""},on:{click:function(t){e.componentData.failSnackbar.open=!1}}},[e._v("Close")])],1)],1)],1)],1)],1)],1)},m=[],f=(r("498a"),r("bc3a")),d=r.n(f),p=r("2f62");function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g={name:"RegisterDialog",data:function(){return{visible:!1,form:{valid:!0,usernameTaken:!1,data:{username:"",password:""}},rules:{usernameRules:[function(e){return e+"".trim()!==""||"Polje ne sme biti prazno"}],passwordRules:[function(e){return e+"".trim()!==""||"Polje ne sme biti prazno"},function(e){return!((e+"").trim().length<8)||"Sifra mora da ima vise od 8 karaktera"}]},componentData:{snackbarGeneral:{timeout:2e3},successSnackbar:{open:!1},failSnackbar:{open:!1}}}},methods:{openDialog:function(e){e.stopPropagation(),this.visible=!0},submit:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.checkIfUsernameAvailable(this.form.data.username);case 2:if(t=e.sent,1==t){e.next=7;break}this.form.usernameTaken=!0,e.next=18;break;case 7:if(!this.$refs.registerForm.validate()){e.next=18;break}return e.next=10,this.register();case 10:if(e.t0=e.sent,!0!==e.t0){e.next=17;break}this.componentData.successSnackbar.open=!0,this.visible=!1,this.$refs.registerForm.reset(),e.next=18;break;case 17:this.componentData.failSnackbar.open=!0;case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),register:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.form.data,r=!1,e.next=4,d.a.post("".concat(this.getFullServerAddress,"/Register"),t).then((function(e){return r=e.data.successful})).catch((function(){return r=!1}));case 4:return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),checkIfUsernameAvailable:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="",e.next=3,d.a.post("".concat(this.getFullServerAddress,"/UniqueUsername"),{username:t}).then((function(e){r=e.data.successful?e.data.successful:"Username je zauzet"})).catch((function(){return r="serverski problem"}));case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},computed:b({},Object(p["c"])(["getFullServerAddress"])),watch:{visible:function(){this.visible||(this.$refs.registerForm.reset(),this.form.valid=!1)}}},h=g,j=r("2877"),k=r("6544"),O=r.n(k),w=r("8336"),D=r("b0af"),y=r("169a"),_=r("4bd4"),x=r("132d"),S=r("8860"),P=r("da13"),C=r("5d23"),V=r("2db4"),F=r("8654"),R=r("71d9"),T=r("2a7f"),z=Object(j["a"])(h,u,m,!1,null,null,null),I=z.exports;O()(z,{VBtn:w["a"],VCard:D["a"],VDialog:y["a"],VForm:_["a"],VIcon:x["a"],VList:S["a"],VListItem:P["a"],VListItemContent:C["a"],VSnackbar:V["a"],VTextField:F["a"],VToolbar:R["a"],VToolbarTitle:T["a"]});var U=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){t.on;return[r("v-btn",{attrs:{text:""},on:{click:e.openDialog}},[e._v("LOGIN")])]}}]),model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[r("v-card",[r("v-toolbar",{attrs:{dark:"",color:"primary"}},[r("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.visible=!1}}},[r("v-icon",[e._v("mdi-close")])],1),r("v-toolbar-title",[e._v("Login")])],1),r("v-list",{staticClass:"mx-12 mt-2"},[r("v-list-item",[r("v-list-item-content",[r("v-form",{ref:"loginForm",model:{value:e.form.valid,callback:function(t){e.$set(e.form,"valid",t)},expression:"form.valid"}},[r("v-text-field",{attrs:{rules:e.formRules,label:"Username"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}}),r("v-text-field",{attrs:{rules:e.formRules,label:"Password",type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),r("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.form.valid,color:"secondary"},on:{click:e.submit}},[e._v("Login")])],1),r("v-snackbar",{attrs:{app:"",timeout:e.componentData.snackbarGeneral.timeout,color:"success",dark:""},model:{value:e.componentData.successSnackbar.open,callback:function(t){e.$set(e.componentData.successSnackbar,"open",t)},expression:"componentData.successSnackbar.open"}},[e._v(" Uspesan Login "),r("v-btn",{attrs:{text:""},on:{click:function(t){e.componentData.successSnackbar.open=!1}}},[e._v("Close")])],1),r("v-snackbar",{attrs:{timeout:e.componentData.snackbarGeneral.timeout,color:"error",dark:""},model:{value:e.componentData.failSnackbar.open,callback:function(t){e.$set(e.componentData.failSnackbar,"open",t)},expression:"componentData.failSnackbar.open"}},[e._v(" Username ili password su pogresni "),r("v-btn",{attrs:{text:""},on:{click:function(t){e.componentData.failSnackbar.open=!1}}},[e._v("Close")])],1)],1)],1)],1)],1)],1)},E=[];function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $={name:"LoginDialog",data:function(){return{visible:!1,form:{username:"",password:"",valid:!1},formRules:[function(e){return e+"".trim()!==""||"Polje ne sme biti prazno"}],componentData:{snackbarGeneral:{timeout:2e3},successSnackbar:{open:!1},failSnackbar:{open:!1}}}},methods:L({},Object(p["b"])(["login"]),{openDialog:function(e){e.stopPropagation(),this.visible=!0},submit:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.login({username:this.form.username,password:this.form.password});case 2:if(!e.sent){e.next=9;break}this.form.username="",this.form.password="",this.componentData.successSnackbar.open=!0,this.visible=!1,e.next=11;break;case 9:this.form.password="",this.componentData.failSnackbar.open=!0;case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()})},N=$,M=Object(j["a"])(N,U,E,!1,null,null,null),B=M.exports;O()(M,{VBtn:w["a"],VCard:D["a"],VDialog:y["a"],VForm:_["a"],VIcon:x["a"],VList:S["a"],VListItem:P["a"],VListItemContent:C["a"],VSnackbar:V["a"],VTextField:F["a"],VToolbar:R["a"],VToolbarTitle:T["a"]});var G=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{persistent:"","max-width":e.$vuetify.breakpoint.mdAndDown?"80vw":"40vw"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{text:""},on:{click:e.openDialog}},n),[e._v("Logout")])]}}]),model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("Odjava")]),r("v-card-text",[e._v("Jeste li sigurni da zelite da se odjavite")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.doLogout()}}},[e._v("Da")]),r("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.visible=!1}}},[e._v("Ne")])],1)],1)],1)},K=[];function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var q={name:"LogoutDialog",data:function(){return{visible:!1}},methods:Z({},Object(p["b"])(["logout"]),{openDialog:function(e){e.stopPropagation(),this.visible=!0},doLogout:function(){this.logout(),this.visible=!1}})},H=q,Y=r("99d9"),Q=r("2fa4"),W=Object(j["a"])(H,G,K,!1,null,null,null),X=W.exports;function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}O()(W,{VBtn:w["a"],VCard:D["a"],VCardActions:Y["a"],VCardText:Y["c"],VCardTitle:Y["d"],VDialog:y["a"],VSpacer:Q["a"]});var re={name:"Toolbar",components:{RegisterDialog:I,LoginDialog:B,LogoutDialog:X},data:function(){var e=this;return{navigationDrawerData:{open:!1,items:[{title:"Pocetna",icon:"mdi-home",link:"/",visibleForCurrentUser:function(){return!0}},{title:"Filmovi",icon:"mdi-movie",link:"/Filmovi",visibleForCurrentUser:function(){return!0}},{title:"Projekcije",icon:"mdi-movie-roll",link:"/",visibleForCurrentUser:function(){return!0}},{title:"Rezervacija Karte",icon:"mdi-ticket",link:"/",visibleForCurrentUser:function(){return"Obican"===e.getCurrentUserUloga}},{title:"Dodaj film",icon:"mdi-plus",link:"/AddFilm",visibleForCurrentUser:function(){return"Admin"===e.getCurrentUserUloga}},{title:"Korisnici",icon:"mdi-account-multiple",link:"/Korisnici",visibleForCurrentUser:function(){return"Admin"===e.getCurrentUserUloga}}]}}},computed:te({},Object(p["c"])(["getIsLoggedIn","getCurrentUserUloga","getCurrentUserUsername","getCurrentUserId"]),{visibleNavItems:function(){return this.navigationDrawerData.items.filter((function(e){return e.visibleForCurrentUser()}))}}),methods:{}},ne=re,ae=(r("60f8"),r("40dc")),ie=r("5bc1"),oe=r("ce7e"),se=r("34c3"),ce=r("e449"),le=r("f774"),ue=Object(j["a"])(ne,c,l,!1,null,null,null),me=ue.exports;function fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}O()(ue,{VAppBar:ae["a"],VAppBarNavIcon:ie["a"],VBtn:w["a"],VCard:D["a"],VCardActions:Y["a"],VDivider:oe["a"],VIcon:x["a"],VList:S["a"],VListItem:P["a"],VListItemContent:C["a"],VListItemIcon:se["a"],VListItemTitle:C["b"],VMenu:ce["a"],VNavigationDrawer:le["a"],VSpacer:Q["a"],VToolbarTitle:T["a"]});var pe={name:"App",components:{Toolbar:me},data:function(){return{}},methods:de({},Object(p["b"])(["setCurrentTheme","setCurrentThemeToBase","fetchFilmovi","fetchLoggedInUser"])),computed:de({},Object(p["c"])(["getCurrentTheme"]),{currentPath:function(){return this.$route.path}}),watch:{currentPath:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.currentPath.includes("/Film/")){e.next=3;break}return e.next=3,this.setCurrentThemeToBase();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetchFilmovi();case 2:this.fetchLoggedInUser();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},ve=pe,be=r("7496"),ge=r("62ad"),he=r("a75b"),je=r("553a"),ke=Object(j["a"])(ve,a,i,!1,null,null,null),Oe=ke.exports;O()(ke,{VApp:be["a"],VCol:ge["a"],VContent:he["a"],VFooter:je["a"]});var we=r("8c4f"),De=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-card",[r("v-card-title",[e._v(" Filmovi "),r("v-spacer"),r("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-text-field",e._g({attrs:{"append-icon":"md-search",label:"Pretraga","single-line":"","hide-details":""},model:{value:e.tableData.search,callback:function(t){e.$set(e.tableData,"search",t)},expression:"tableData.search"}},n))]}}])},[r("span",[e._v("Za pretragu trajanja po minutima u opsegu: [pocetak-kraj], za pretragu godina proizvodnje u opsegu: {pocetak-kraj},")])])],1),r("v-data-table",{attrs:{headers:e.tableData.zaglavljaTabele,items:e.allFilmovi,"items-per-page":20,loading:e.tableData.doneLoading,"loading-text":"Loading... Please wait",search:e.tableData.search,"custom-filter":e.customFilterFunction},scopedSlots:e._u([{key:"item.zanrovi",fn:function(t){var n=t.item;return e._l(n.zanrovi,(function(t){return r("v-chip",{key:t.id},[e._v(e._s(t.naziv))])}))}},{key:"item.trajanje",fn:function(t){var r=t.item;return[e._v(e._s((r.trajanje-r.trajanje%60)/60)+" min. "+e._s(r.trajanje%60)+" sek.")]}},{key:"item.detaljnije",fn:function(t){var n=t.item;return[r("router-link",{attrs:{to:"/Film/"+n.id}},[e._v("Detaljnije")])]}}])})],1),r("AddFilmDialog")],1)},ye=[],_e=(r("99af"),r("d81d"),r("e25e"),r("ac1f"),r("466d"),r("1276"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){t.on;return[r("v-btn",{attrs:{color:"secondary",bottom:"",right:"",fab:"",fixed:""},on:{click:e.openDialog}},[r("v-icon",[e._v("mdi-plus")])],1)]}}]),model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[r("v-card",[r("v-toolbar",{attrs:{dark:"",color:"primary"}},[r("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.visible=!1}}},[r("v-icon",[e._v("mdi-close")])],1)],1),r("AddFilm")],1)],1)}),xe=[],Se=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",[r("h1",{staticClass:"ml-2"},[e._v(e._s(e.tipAkcije)+" Filma:")])]),r("v-row",[r("v-form",{ref:"filmForm",staticClass:"col-md-12",model:{value:e.formData.formValid,callback:function(t){e.$set(e.formData,"formValid",t)},expression:"formData.formValid"}},[r("v-container",{attrs:{fluid:""}},[r("v-row",[r("v-col",[r("v-text-field",{attrs:{label:"Naziv",rules:e.formData.rules.nazivRules},model:{value:e.film.naziv,callback:function(t){e.$set(e.film,"naziv",t)},expression:"film.naziv"}})],1)],1),r("v-row",[r("v-col",[r("v-combobox",{attrs:{label:"Zanrovi",multiple:"",chips:"","deletable-chips":"",delimiters:[","],"hide-selected":"",items:e.zanrovi,"auto-select-first":"","search-input":e.formData.zanroviSearchInput},on:{"update:searchInput":function(t){return e.$set(e.formData,"zanroviSearchInput",t)},"update:search-input":function(t){return e.$set(e.formData,"zanroviSearchInput",t)}},model:{value:e.film.zanrovi,callback:function(t){e.$set(e.film,"zanrovi",t)},expression:"film.zanrovi"}})],1)],1),r("v-row",[r("v-col",[r("v-combobox",{attrs:{label:"Reziser",chips:"","deletable-chips":"",items:e.filmskiRadnici},model:{value:e.film.reziser,callback:function(t){e.$set(e.film,"reziser",t)},expression:"film.reziser"}})],1)],1),r("v-row",[r("v-col",[r("v-combobox",{attrs:{label:"Glumci",multiple:"",chips:"","deletable-chips":"",delimiters:[","],"hide-selected":"",items:e.filmskiRadnici,"auto-select-first":"","search-input":e.formData.glumciSearchInput},on:{"update:searchInput":function(t){return e.$set(e.formData,"glumciSearchInput",t)},"update:search-input":function(t){return e.$set(e.formData,"glumciSearchInput",t)}},model:{value:e.film.glumci,callback:function(t){e.$set(e.film,"glumci",t)},expression:"film.glumci"}})],1)],1),r("v-row",[r("v-col",[r("v-text-field",{attrs:{label:"Trajanje",rules:e.formData.rules.trajanjeRules},model:{value:e.film.trajanje,callback:function(t){e.$set(e.film,"trajanje",t)},expression:"film.trajanje"}})],1)],1),r("v-row",[r("v-col",[r("v-text-field",{attrs:{label:"Distributer",rules:e.formData.rules.distributerRules},model:{value:e.film.distributer,callback:function(t){e.$set(e.film,"distributer",t)},expression:"film.distributer"}})],1)],1),r("v-row",[r("v-col",[r("v-text-field",{attrs:{label:"Zemlja porekla",rules:e.formData.rules.zemljaPoreklaRules},model:{value:e.film.zemljaPorekla,callback:function(t){e.$set(e.film,"zemljaPorekla",t)},expression:"film.zemljaPorekla"}})],1)],1),r("v-row",[r("v-col",[r("v-text-field",{attrs:{label:"Godina proizvodnje",rules:e.formData.rules.godinaProizvodnjeRules},model:{value:e.film.godinaProizvodnje,callback:function(t){e.$set(e.film,"godinaProizvodnje",t)},expression:"film.godinaProizvodnje"}})],1)],1),r("v-row",[r("v-col",[r("v-text-field",{attrs:{label:"Link do slike"},model:{value:e.film.pathDoSlike,callback:function(t){e.$set(e.film,"pathDoSlike",t)},expression:"film.pathDoSlike"}})],1)],1),r("v-row",[r("v-col",[r("v-textarea",{attrs:{label:"Opis"},model:{value:e.film.opis,callback:function(t){e.$set(e.film,"opis",t)},expression:"film.opis"}})],1)],1),r("v-row",{attrs:{justify:"end"}},[r("v-col",{staticClass:"col-lg-2 col-md-12"},[r("v-btn",{staticClass:"secondary",attrs:{width:"100%",disabled:!e.formData.formValid},on:{click:function(t){return e.formSubmit()}}},[e._v(e._s(e.tipAkcije))])],1)],1),r("v-snackbar",{attrs:{timeout:e.snackbars.timeout},model:{value:e.snackbars.successVisible,callback:function(t){e.$set(e.snackbars,"successVisible",t)},expression:"snackbars.successVisible"}},[e._v(e._s("Izmena"===e.tipAkcije?"Uspesna Izmena":"Uspesno Dodavanje")+" "),r("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(t){e.snackbars.successVisible=!1}}},[e._v(" Close ")])],1),r("v-snackbar",{attrs:{timeout:e.snackbars.timeout},model:{value:e.snackbars.failureVisible,callback:function(t){e.$set(e.snackbars,"failureVisible",t)},expression:"snackbars.failureVisible"}},[e._v(e._s("Izmena"===e.tipAkcije?"Neuspesna izmena":"Neuspesno dodavanje")+" "),r("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(t){e.snackbars.failureVisible=!1}}},[e._v(" Close ")])],1)],1)],1)],1)],1)},Pe=[];r("a9e3");function Ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Fe={name:"AddFilm",props:{filmId:{type:Number,required:!1}},data:function(){return{tipAkcije:"",film:{id:0,naziv:"",zanrovi:[],reziser:"",glumci:[],trajanje:0,distributer:"",zemljaPorekla:"",godinaProizvodnje:0,opis:"",obrisan:!1,pathDoSlike:""},zanrovi:[],filmskiRadnici:[],formData:{formValid:!1,zanroviSearchInput:null,glumciSearchInput:null,rulePresets:{required:function(e){return e+""!==""||"Obavezno Polje"},mustBeNumber:function(e){return!!/^\d*$/.test(e)||"Mora biti ne negativan broj"},notZero:function(e){return 0!==parseInt(e)||"Mora biti vece od 0"}},rules:{nazivRules:[function(e){return e+""!==""||"Obavezno Polje"}],trajanjeRules:[function(e){return e+""!==""||"Obavezno Polje"},function(e){return!!/^\d*$/.test(e)||"Mora biti ne negativan broj"},function(e){return 0!==parseInt(e)||"Mora biti vece od 0"}],distributerRules:[function(e){return e+""!==""||"Obavezno Polje"}],zemljaPoreklaRules:[function(e){return e+""!==""||"Obavezno Polje"}],godinaProizvodnjeRules:[function(e){return e+""!==""||"Obavezno Polje"},function(e){return!!/^\d*$/.test(e)||"Mora biti ne negativan broj"},function(e){return 0!==parseInt(e)||"Mora biti vece od 0"}]}},snackbars:{timeout:4e3,successVisible:!1,failureVisible:!1}}},methods:Ve({},Object(p["b"])(["addFilm","editFilm"]),{setFilm:function(){"Izmena"===this.tipAkcije&&(this.film=JSON.parse(JSON.stringify(this.getFilm(this.filmId))),this.film.zanrovi=this.film.zanrovi.map(this.itemForCb),this.film.reziser=this.itemForCb(this.film.reziser),this.film.glumci=this.film.glumci.map(this.itemForCb))},itemForCb:function(e){var t=new Object;return t.text=e.naziv,t.value=e,t},setTipAkcije:function(){void 0!==this.filmId?this.tipAkcije="Izmena":this.tipAkcije="Dodavanje"},getZanrovi:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("".concat(this.getFullServerAddress,"/Zanrovi")).then((function(e){return e.data.map(t.itemForCb)})).catch((function(){return[]}));case 2:this.zanrovi=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getFilmskiRadnici:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("".concat(this.getFullServerAddress,"/FilmskiRadnici")).then((function(e){return e.data.map(t.itemForCb)})).catch((function(){return[]}));case 2:this.filmskiRadnici=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),formSubmit:function(){var e=JSON.parse(JSON.stringify(this.film));if(null!==e.reziser)if("string"===typeof e.reziser){var t=new Object;t.id=0,t.naziv=e.reziser,e.reziser=t}else e.reziser=e.reziser.value;else e.reziser=null;e.zanrovi=e.zanrovi.map((function(e){if("string"===typeof e){var t=new Object;return t.id=0,t.naziv=e,t}return e.value})),e.glumci=e.glumci.map((function(e){if("string"===typeof e){var t=new Object;return t.id=0,t.naziv=e,t}return e.value})),"Izmena"===this.tipAkcije?this.editFilm(e)?this.snackbars.successVisible=!0:this.snackbars.failureVisible=!0:"Dodavanje"===this.tipAkcije&&(this.addFilm(e)?(this.snackbars.successVisible=!0,this.$refs.filmForm.reset()):this.snackbars.failureVisible=!0)}}),computed:Ve({},Object(p["c"])(["getFilm","getFullServerAddress"])),watch:{filmId:function(){this.setTipAkcije(),this.setFilm()},"film.zanrovi":function(){this.formData.zanroviSearchInput=null},"film.glumci":function(){this.formData.glumciSearchInput=null}},mounted:function(){this.setTipAkcije(),this.getZanrovi(),this.getFilmskiRadnici(),this.setFilm()}},Re=Fe,Te=r("2b5d"),ze=r("a523"),Ie=r("0fd9"),Ue=r("a844"),Ee=Object(j["a"])(Re,Se,Pe,!1,null,null,null),Ae=Ee.exports;O()(Ee,{VBtn:w["a"],VCol:ge["a"],VCombobox:Te["a"],VContainer:ze["a"],VForm:_["a"],VRow:Ie["a"],VSnackbar:V["a"],VTextField:F["a"],VTextarea:Ue["a"]});var Le={name:"EditFilmDialog",components:{AddFilm:Ae},data:function(){return{visible:!1}},methods:{openDialog:function(e){e.stopPropagation(),this.visible=!0}}},$e=Le,Ne=Object(j["a"])($e,_e,xe,!1,null,null,null),Me=Ne.exports;function Be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}O()(Ne,{VBtn:w["a"],VCard:D["a"],VDialog:y["a"],VIcon:x["a"],VToolbar:R["a"]});var Ke={name:"Filmovi",components:{AddFilmDialog:Me},data:function(){return{tableData:{doneLoading:!1,search:"",zaglavljaTabele:[{text:"Naziv",value:"naziv"},{text:"Zanrovi",value:"zanrovi"},{text:"Trajanje",value:"trajanje"},{text:"Distributer",value:"distributer"},{text:"Zemlja Porekla",value:"zemljaPorekla"},{text:"Godina Proizvodnje",value:"godinaProizvodnje"},{text:"Detaljnije",value:"detaljnije",sortable:!1}]}}},methods:Ge({},Object(p["b"])(["fetchFilmovi"]),{customFilterFunction:function(e,t,r){var n="".concat(r.naziv," ").concat(r.zanrovi.reduce((function(e,t){return e+" "+t.naziv}),"")," ").concat(r.trajanje," ").concat(r.distributer," ").concat(r.zemljaPorekla," ").concat(r.godinaProizvodnje).toUpperCase(),a=t.split(" ");return a.reduce((function(e,a){return/^{\d*-\d*}$/.test(a)?(a=a.match(/\d+/g).map((function(e){return parseInt(e)})),a[0]<a[1]&&(r.godinaProizvodnje>=a[0]&&r.godinaProizvodnje<=a[1]&&e)):/^\[\d*-\d*\]$/.test(a)?(a=a.match(/\d+/g).map((function(e){return parseInt(e)})),a[0]<a[1]&&(r.trajanje/60>=a[0]&&r.trajanje/60<=a[1]&&e)):n.includes(t.toUpperCase())&&e}),!0)}}),computed:Object(p["c"])(["allFilmovi"]),created:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetchFilmovi();case 2:this.tableData.doneLoading=!1;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},Je=Ke,Ze=r("cc20"),qe=r("8fea"),He=r("3a2f"),Ye=Object(j["a"])(Je,De,ye,!1,null,null,null),Qe=Ye.exports;O()(Ye,{VCard:D["a"],VCardTitle:Y["d"],VChip:Ze["a"],VContainer:ze["a"],VDataTable:qe["a"],VSpacer:Q["a"],VTextField:F["a"],VTooltip:He["a"]});var We=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"fill-height px-0 pt-0",style:{backgroundColor:e.componentData.backgroundColor,color:e.componentData.textColor},attrs:{fluid:""}},[n("v-row",{staticClass:"mx-0"},[n("v-img",{ref:"coverImage",attrs:{"lazy-src":r("963b"),src:e.film.pathDoSlike,position:"center center","aspect-ratio":e.$vuetify.breakpoint.mdAndUp?"3.2":"1",contain:!0}})],1),n("v-row",{staticClass:"mx-1"},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"md-8"}},[n("h1",{staticClass:"filmTitle"},[e._v(e._s(e.film.naziv))])]),n("v-col",{attrs:{cols:"md-4","align-self":"end",align:"end"}},[n("v-btn",{staticClass:"secondary"},[e._v("Kupi Kartu")])],1)],1),n("v-row",[n("v-col",{attrs:{cols:"md-15"}},[n("p",[e._v(e._s(e.film.opis))])])],1),n("v-row",[n("v-col",{attrs:{cols:"md-2"}},[e._v("Zanrovi:")]),n("v-col",{attrs:{cols:"md-10"}},e._l(e.film.zanrovi,(function(t){return n("v-chip",{key:t.id,attrs:{color:"secondary"}},[e._v(e._s(t.naziv))])})),1)],1),n("v-row",[n("v-col",{attrs:{cols:"md-2"}},[e._v("Reziser:")]),n("v-col",{attrs:{cols:"md-10"}},[n("p",[e._v(e._s(null!=e.film.reziser?e.film.reziser.naziv:""))])])],1),n("v-row",[n("v-col",{attrs:{cols:"md-2"}},[e._v("Glumci:")]),n("v-col",{attrs:{cols:"md-10"}},[n("p",e._l(e.film.glumci,(function(t){return n("span",{key:t.id},[e._v(e._s((t.id!==e.film.glumci[0].id?", ":"")+t.naziv))])})),0)])],1),n("v-row",[n("v-col",{attrs:{cols:"md-2"}},[e._v("Trajanje:")]),n("v-col",{attrs:{cols:"md-10"}},[n("p",[e._v(e._s((e.film.trajanje-e.film.trajanje%60)/60)+" min. "+e._s(e.film.trajanje%60)+" sek.")])])],1),n("v-row",[n("v-col",{attrs:{cols:"md-2"}},[e._v("Distributer:")]),n("v-col",{attrs:{cols:"md-10"}},[n("p",[e._v(e._s(e.film.distributer))])])],1),n("v-row",[n("v-col",{attrs:{cols:"md-2"}},[e._v("Zemlja porekla:")]),n("v-col",{attrs:{cols:"md-10"}},[n("p",[e._v(e._s(e.film.zemljaPorekla))])])],1),n("v-row",[n("v-col",{attrs:{cols:"md-2"}},[e._v("Godina proizvodnje:")]),n("v-col",{attrs:{cols:"md-10"}},[n("p",[e._v(e._s(e.film.godinaProizvodnje))])])],1)],1)],1),n("v-snackbar",{model:{value:e.componentData.errorSnackbarVisible,callback:function(t){e.$set(e.componentData,"errorSnackbarVisible",t)},expression:"componentData.errorSnackbarVisible"}},[e._v(" "+e._s(e.componentData.errorMassage)+" "),n("v-btn",{attrs:{color:"error",text:""},on:{click:function(t){e.componentData.errorSnackbarVisible=!1}}},[e._v("Close")])],1),n("v-speed-dial",{attrs:{direction:"top",right:!0,bottom:!0,"open-on-hover":!1,left:!1,top:!1,fixed:""},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-btn",{attrs:{color:"secondary",bottom:"",right:"",fab:""},model:{value:e.speedDialData.speedDialOpen,callback:function(t){e.$set(e.speedDialData,"speedDialOpen",t)},expression:"speedDialData.speedDialOpen"}},[e.speedDialData.speedDialOpen?n("v-icon",[e._v("mdi-close")]):n("v-icon",[e._v("mdi-dots-vertical")])],1)]},proxy:!0}]),model:{value:e.speedDialData.speedDialOpen,callback:function(t){e.$set(e.speedDialData,"speedDialOpen",t)},expression:"speedDialData.speedDialOpen"}},[n("EditFilmDialog",{attrs:{filmId:e.film.id}}),n("DeleteFilm",{attrs:{film:e.film}})],1)],1)},Xe=[],et=r("0621"),tt=r.n(et),rt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){t.on;return[r("v-btn",{attrs:{fab:"",dark:"",small:"",color:"secondary"},on:{click:e.openDialog}},[r("v-icon",[e._v("mdi-pencil")])],1)]}}]),model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[r("v-card",[r("v-toolbar",{attrs:{dark:"",color:"primary"}},[r("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.visible=!1}}},[r("v-icon",[e._v("mdi-close")])],1)],1),r("AddFilm",{attrs:{filmId:e.filmId}})],1)],1)},nt=[],at={name:"EditFilmDialog",components:{AddFilm:Ae},props:{filmId:{type:Number,required:!0}},data:function(){return{visible:!1}},methods:{openDialog:function(e){e.stopPropagation(),this.visible=!0}}},it=at,ot=Object(j["a"])(it,rt,nt,!1,null,null,null),st=ot.exports;O()(ot,{VBtn:w["a"],VCard:D["a"],VDialog:y["a"],VIcon:x["a"],VToolbar:R["a"]});var ct=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{persistent:"","max-width":e.$vuetify.breakpoint.mdAndDown?"80vw":"40vw"},scopedSlots:e._u([{key:"activator",fn:function(t){t.on;return[r("v-btn",{attrs:{fab:"",dark:"",small:"",color:"secondary"},on:{click:e.openDialog}},[r("v-icon",[e._v("mdi-delete")])],1)]}}]),model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("Brisanje filma "+e._s(e.film.naziv))]),r("v-card-text",[e._v("Jeste li sigurni da zelite da obrisete film "+e._s(e.film.naziv))]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.submitButton()}}},[e._v("Da")]),r("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.visible=!1}}},[e._v("Ne")])],1)],1)],1)},lt=[];function ut(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function mt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ut(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ft={name:"DeleteFilm",props:{film:{type:Object,required:!0}},data:function(){return{visible:!1}},methods:mt({},Object(p["b"])(["deleteFilm"]),{openDialog:function(e){e.stopPropagation(),this.visible=!0},submitButton:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.deleteFilm(this.film.id);case 2:if(!e.sent){e.next=5;break}this.visible=!1,this.$router.push({name:"Home"});case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()})},dt=ft,pt=Object(j["a"])(dt,ct,lt,!1,null,null,null),vt=pt.exports;function bt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}O()(pt,{VBtn:w["a"],VCard:D["a"],VCardActions:Y["a"],VCardText:Y["c"],VCardTitle:Y["d"],VDialog:y["a"],VIcon:x["a"],VSpacer:Q["a"]});var ht={name:"Film",components:{EditFilmDialog:st,DeleteFilm:vt},props:{id:String},data:function(){return{film:{},componentData:{errorMassage:"",errorSnackbarVisible:!1,backgroundColor:"#ffffff",textColor:"#000000"},speedDialData:{speedDialOpen:!1}}},computed:Object(p["c"])(["getFilm","allFilmovi","getCurrentTheme","getBaseTheme"]),methods:gt({},Object(p["b"])(["fetchFilmovi","setCurrentTheme","setCurrentThemeToBase"]),{filmLoad:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.allFilmovi.length;case 2:if(e.t0=e.sent,0!==e.t0){e.next=6;break}return e.next=6,this.fetchFilmovi();case 6:if(!/^\d+$/.test(this.id)){e.next=14;break}return e.next=9,this.getFilm(parseInt(this.id,10));case 9:return this.film=e.sent,e.next=12,this.setColors();case 12:e.next=16;break;case 14:this.componentData.errorMassage="Id nije pravilno unet, nije moguce prikazati film",this.componentData.errorSnackbarVisible=!0;case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),setColors:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt.a.from(this.film.pathDoSlike).getPalette().then((function(e){return e}));case 3:t=e.sent,this.componentData.backgroundColor=t.DarkVibrant.hex,this.componentData.textColor=t.DarkVibrant.bodyTextColor,r=this.getCurrentTheme,r.primary=t.DarkVibrant.hex,r.secondary=t.Muted.hex,this.setCurrentTheme(r),e.next=17;break;case 12:e.prev=12,e.t0=e["catch"](0),this.setCurrentThemeToBase(),this.componentData.backgroundColor="#fff",this.componentData.textColor="#000";case 17:case"end":return e.stop()}}),e,this,[[0,12]])})));function t(){return e.apply(this,arguments)}return t}()}),watch:{id:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.filmLoad();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.filmLoad();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},jt=ht,kt=(r("44f8"),r("adda")),Ot=r("c73b"),wt=Object(j["a"])(jt,We,Xe,!1,null,null,null),Dt=wt.exports;O()(wt,{VBtn:w["a"],VChip:Ze["a"],VCol:ge["a"],VContainer:ze["a"],VIcon:x["a"],VImg:kt["a"],VRow:Ie["a"],VSnackbar:V["a"],VSpeedDial:Ot["a"]});var yt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"p-reset h-60",attrs:{fluid:""}},[r("MovieCarousel")],1)},_t=[],xt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"fill-height p-reset mt-4",attrs:{fluid:""}},[n("v-carousel",{staticClass:"fill-height",attrs:{"hide-delimiters":"",height:"100%"}},e._l(e.get5NewestFilms,(function(e){return n("v-carousel-item",{key:e.id,attrs:{src:e.pathDoSlike,link:!0,to:"/Film/"+e.id,contain:"","lazy-src":r("963b")}})})),1)],1)},St=[];function Pt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Vt={name:"MovieCarousel",computed:Ct({},Object(p["c"])(["get5NewestFilms"])),methods:{}},Ft=Vt,Rt=(r("d67b"),r("5e66")),Tt=r("3e35"),zt=Object(j["a"])(Ft,xt,St,!1,null,null,null),It=zt.exports;O()(zt,{VCarousel:Rt["a"],VCarouselItem:Tt["a"],VContainer:ze["a"]});var Ut={name:"Home",components:{MovieCarousel:It}},Et=Ut,At=(r("cccb"),Object(j["a"])(Et,yt,_t,!1,null,null,null)),Lt=At.exports;O()(At,{VContainer:ze["a"]});var $t=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-card",[r("v-card-title",[e._v(" Korisnici "),r("v-spacer"),r("v-text-field",{attrs:{"append-icon":"md-search",label:"Pretraga","single-line":"","hide-details":""},model:{value:e.tableData.search,callback:function(t){e.$set(e.tableData,"search",t)},expression:"tableData.search"}})],1),r("v-data-table",{attrs:{headers:e.tableData.zaglavljaTabele,"items-per-page":20,items:e.getAllUsers,"loading-text":"Loading... Please wait",search:e.tableData.search,"custom-filter":e.customFilterFunction},scopedSlots:e._u([{key:"item.datumRegistracije",fn:function(t){var r=t.item;return[e._v(" "+e._s(r.datumRegistracije.toLocaleString())+" ")]}},{key:"item.detaljnije",fn:function(t){var n=t.item;return[r("router-link",{attrs:{to:"/Korisnik/"+n.id}},[e._v("Detaljnije")])]}}])})],1)],1)},Nt=[];function Mt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Gt={name:"Korisnici",data:function(){return{tableData:{search:"",zaglavljaTabele:[{text:"Username",value:"username"},{text:"Datum registracije",value:"datumRegistracije"},{text:"Uloga",value:"uloga"},{text:"Detaljnije",value:"detaljnije",sortable:!1}]}}},computed:Bt({},Object(p["c"])(["getAllUsers"])),methods:Bt({},Object(p["b"])(["fetchUsers"]),{customFilterFunction:function(e,t,r){var n="".concat(r.username," ").concat(r.datumRegistracije.toLocaleString()," ").concat(r.uloga).toUpperCase();return t.split(" ").reduce((function(e,t){return n.includes(t.toUpperCase())&&e}),!0)}}),mounted:function(){this.fetchUsers()}},Kt=Gt,Jt=Object(j["a"])(Kt,$t,Nt,!1,null,null,null),Zt=Jt.exports;O()(Jt,{VCard:D["a"],VCardTitle:Y["d"],VContainer:ze["a"],VDataTable:qe["a"],VSpacer:Q["a"],VTextField:F["a"]});var qt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"fill-height"},[r("v-card",{staticClass:"fill-height",attrs:{width:"100%"}},[r("v-card-title",[e._v(" "+e._s(e.user.username)+" ")]),r("v-card-subtitle",[e._v(" "+e._s(e.user.uloga)+" korisnik ")]),!e.getIsLoggedIn||e.getCurrentUserId!==e.user.id&&"Admin"!==e.getCurrentUserUloga?e._e():r("v-list-item",[r("v-list-item-content",[r("v-list-item-title",[e._v("Sifra:")]),r("v-list-item-content",[r("v-form",{attrs:{width:"100%"},model:{value:e.componentData.passwordFormValid,callback:function(t){e.$set(e.componentData,"passwordFormValid",t)},expression:"componentData.passwordFormValid"}},[r("v-row",{attrs:{justify:"start",align:"center"}},[r("v-col",{attrs:{fluid:"",lg:"10",md:"8"}},[r("v-text-field",{attrs:{type:"password",rules:e.componentData.passwordTextFieldRules},on:{input:function(t){return e.pwdChanged()}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),r("v-col",{attrs:{fluid:"",lg:"1",md:"4"}},[r("v-btn",{attrs:{color:"secondary--text",text:"",disabled:!this.componentData.passwordChanged||!this.componentData.passwordFormValid},on:{click:function(t){return e.changeSubmit()}}},[e._v("Izmeni")])],1)],1)],1)],1)],1)],1),e.getIsLoggedIn&&"Admin"===e.getCurrentUserUloga?r("v-list-item",[r("v-list-item-content",[r("v-list-item-title",[e._v("Uloga:")]),r("v-list-item-content",[r("v-form",{attrs:{width:"100%"}},[r("v-row",{attrs:{justify:"start",align:"center"}},[r("v-col",{attrs:{fluid:"",lg:"10",md:"8"}},[r("v-select",{attrs:{items:e.componentData.uloge},on:{input:function(t){e.componentData.roleChanged=!0}},model:{value:e.user.uloga,callback:function(t){e.$set(e.user,"uloga",t)},expression:"user.uloga"}})],1),r("v-col",{attrs:{fluid:"",lg:"1",md:"4"}},[r("v-btn",{attrs:{color:"secondary--text",text:"",disabled:!this.componentData.roleChanged},on:{click:function(t){return e.changeSubmit()}}},[e._v("Izmeni")])],1)],1)],1)],1)],1)],1):e._e(),r("v-divider"),r("v-list-item",[r("v-list-item-content",[r("v-list-item-title",[e._v("Vreme registracije:")]),r("v-list-item-content",[e._v(e._s(e.user.datumRegistracije?e.user.datumRegistracije.toLocaleString():""))])],1)],1),r("v-list-item",[r("v-list-item-content",[r("v-list-item-title",[e._v("Obrisan:")]),r("v-list-item-content",[e._v(e._s(e.user.obrisan?"Da":"Ne"))])],1)],1),r("v-divider"),r("v-list-item",[r("v-list-item-content",[r("v-list-item-title",[e._v("Kupljene karte:")])],1)],1)],1),e.getIsLoggedIn&&"Admin"===e.getCurrentUserUloga&&e.getCurrentUserId!==e.user.id?r("DeleteKorisnikDialog",{attrs:{korisnik:e.user}}):e._e()],1)},Ht=[],Yt=(r("25eb"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{"max-width":e.$vuetify.breakpoint.mdAndDown?"80vw":"40vw"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{fab:"",absolute:"",bottom:"",right:"",color:"secondary"}},n),[r("v-icon",[e._v("mdi-delete")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("Jeste li sigurni da zelite obrisati "+e._s(e.korisnik.username))]),r("v-card-text",[e._v("Postoji mogucnost da nece biti moguce povratiti obrisane podatke")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:e.submit}},[e._v("Da")]),r("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v("Ne")])],1)],1)],1)}),Qt=[];function Wt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var er={name:"DeleteKorisnikDialog",props:{korisnik:{type:Object,required:!0}},data:function(){return{dialog:!1}},methods:Xt({},Object(p["b"])(["deleteUser"]),{submit:function(){this.deleteUser(this.korisnik.id)&&(this.dialog=!1,this.$router.push("/"))}})},tr=er,rr=Object(j["a"])(tr,Yt,Qt,!1,null,null,null),nr=rr.exports;function ar(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ar(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ar(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}O()(rr,{VBtn:w["a"],VCard:D["a"],VCardActions:Y["a"],VCardText:Y["c"],VCardTitle:Y["d"],VDialog:y["a"],VIcon:x["a"],VSpacer:Q["a"]});var or={name:"Korisnik",components:{DeleteKorisnikDialog:nr},props:{id:{type:String,required:!0}},data:function(){return{user:{},componentData:{passwordFormValid:!1,passwordChanged:!1,roleChanged:!1,passwordTextFieldRules:[function(e){return e+"".trim()!==""||"Polje ne sme biti prazno"},function(e){return!((e+"").trim().length<8)||"Sifra mora da ima vise od 8 karaktera"}],uloge:[{text:"Admin",value:"Admin"},{text:"Obican",value:"Obican"}]}}},methods:ir({},Object(p["b"])(["fetchUsers","updateUser"]),{pwdChanged:function(){this.componentData.passwordChanged=!0},changeSubmit:function(){this.updateUser(this.user)&&(this.componentData.passwordChanged=!1,this.componentData.roleChanged=!1)}}),computed:ir({},Object(p["c"])(["getUser","getAllUsers","getIsLoggedIn","getCurrentUserUloga","getCurrentUserId"])),mounted:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==this.getAllUsers.length){e.next=3;break}return e.next=3,this.fetchUsers();case 3:this.user=JSON.parse(JSON.stringify(this.getUser(Number.parseInt(this.id)))),this.user.datumRegistracije=new Date(this.user.datumRegistracije);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},sr=or,cr=r("b974"),lr=Object(j["a"])(sr,qt,Ht,!1,null,null,null),ur=lr.exports;O()(lr,{VBtn:w["a"],VCard:D["a"],VCardSubtitle:Y["b"],VCardTitle:Y["d"],VCol:ge["a"],VContainer:ze["a"],VDivider:oe["a"],VForm:_["a"],VListItem:P["a"],VListItemContent:C["a"],VListItemTitle:C["b"],VRow:Ie["a"],VSelect:cr["a"],VTextField:F["a"]}),n["a"].use(we["a"]);var mr=[{path:"/",name:"Home",component:Lt},{path:"/Filmovi",name:"Filmovi",component:Qe},{path:"/Film/:id",name:"Film",component:Dt,props:!0},{path:"/AddFilm",name:"AddFilm",component:Ae,props:!0},{path:"/Korisnici",name:"Korisnici",component:Zt},{path:"/Korisnik/:id",name:"Korisnik",component:ur,props:!0},{path:"*",name:"Any",component:Lt}],fr=new we["a"]({base:"/Bioskop/",mode:"history",routes:mr}),dr=fr,pr=(r("c740"),r("fb6a"),r("4e827"),{filmovi:[]}),vr={allFilmovi:function(e){return e.filmovi},filteredFilmovi:function(e){return function(t){return e.filmovi.filter(t)}},getFilm:function(e){return function(t){return e.filmovi.filter((function(e){return e.id===t}))[0]}},get5NewestFilms:function(e){return e.filmovi.sort((function(e,t){return e.id<t.id?-1:e.id>t.id?1:0})).slice(-5)}},br={fetchFilmovi:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,d.a.get("".concat(Mr.getters.getFullServerAddress,"/Filmovi")).then((function(e){return r("SET_FILMS",e.data)})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),addFilm:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,d.a.post("".concat(Mr.getters.getFullServerAddress,"/Film"),r).then((function(e){return!!e.data.successful&&(r.id=e.data.id,n("ADD_FILM",r),!0)})).catch((function(e){return console.log(e),!1}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),editFilm:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,d.a.put("".concat(Mr.getters.getFullServerAddress,"/Film"),r).then((function(e){return e.successful&&n("UPDATE_FILM",r),e.successful})).catch((function(e){return console.log(e),!1}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),deleteFilm:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,d.a.delete("".concat(Mr.getters.getFullServerAddress,"/Film?id=").concat(r)).then((function(e){return e.data.successful})).catch((function(e){return console.log(e),!1}));case 3:if(!e.sent){e.next=8;break}return n("DELETE_FILM",r),e.abrupt("return",!0);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},gr={SET_FILMS:function(e,t){return e.filmovi=t},ADD_FILM:function(e,t){return e.filmovi.push(t)},DELETE_FILM:function(e,t){return e.filmovi=e.filmovi.filter((function(e){return e.id!==t}))},UPDATE_FILM:function(e,t){var r=e.filmovi.findIndex((function(e){return e.id===t.id}));e.filmovi[r]=t}},hr={state:pr,getters:vr,actions:br,mutations:gr},jr=r("f309");n["a"].use(jr["a"]);var kr=new jr["a"]({theme:{themes:{light:{primary:"#6a2109",secondary:"#6c80a1",accent:"#ff5722",error:"#f44336",warning:"#ffeb3b",info:"#cddc39",success:"#8bc34a"}}}}),Or=kr,wr={baseTheme:{primary:"#6a2109",secondary:"#6c80a1",accent:"#ff5722",error:"#f44336",warning:"#ffeb3b",info:"#cddc39",success:"#8bc34a"},currentTheme:{primary:"#ffc107",secondary:"#ff9800",accent:"#ff5722",error:"#f44336",warning:"#ffeb3b",info:"#cddc39",success:"#8bc34a"}},Dr={getBaseTheme:function(e){return JSON.parse(JSON.stringify(e.baseTheme))},getCurrentTheme:function(e){return JSON.parse(JSON.stringify(e.currentTheme))}},yr={setCurrentTheme:function(e,t){var r=e.commit;Or.framework.theme.themes.light=t,r("SET_CURRENT_THEME",t)},setCurrentThemeToBase:function(e){var t=e.commit;Or.framework.theme.themes.light=wr.baseTheme,t("SET_CURRENT_THEME",wr.baseTheme)}},_r={SET_BASE_THEME:function(e,t){return e.baseTheme=t},SET_CURRENT_THEME:function(e,t){return e.currentTheme=t}},xr={state:wr,getters:Dr,actions:yr,mutations:_r},Sr={serverAddress:"192.168.1.250",serverPort:"8081",serverPath:"Bioskop/api",frontendFullAdress:location.hostname},Pr={getServerAddress:function(e){return e.serverAddress},getServerPort:function(e){return e.serverPort},getFullServerAddress:function(e){return"http://".concat(e.serverAddress,":").concat(e.serverPort,"/").concat(e.serverPath)},getFrontendFullAdress:function(e){return"http://".concat(e.frontendFullAdress)}},Cr={state:Sr,getters:Pr},Vr=r("2b27"),Fr=r.n(Vr),Rr={currentUser:{id:0,username:"",password:"",datumRegistracije:new Date,uloga:"Gost",obrisan:!1},isLoggedIn:!1},Tr={getCurrentUser:function(e){return e.currentUser},getCurrentUserUloga:function(e){return e.currentUser.uloga},getCurrentUserUsername:function(e){return e.currentUser.username},getIsLoggedIn:function(e){return e.isLoggedIn},getCurrentUserId:function(e){return e.currentUser.id}},zr={setCurrentUser:function(e,t){var r=e.commit;r("SET_CURRENT_USER",t)},login:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,d.a.post("".concat(Mr.getters.getFullServerAddress,"/Login"),r,{withCredentials:!0}).then((function(e){return!!e.data.successful&&e.data.user})).catch((function(){return!1}));case 3:if(a=e.sent,!1===a){e.next=11;break}return Fr.a.set("korisnik",a,"2d",[Mr.getters.getFrontendFullAdress,"".concat(Mr.getters.getServerAddress,":").concat(Mr.getters.serverPort)]),n("SET_CURRENT_USER",a),n("SET_LOGGEDIN",!0),e.abrupt("return",!0);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),logout:function(e){var t=e.commit;Fr.a.remove("korisnik"),d.a.get("".concat(Mr.getters.getFullServerAddress,"/Logout")),t("SET_CURRENT_USER",{uloga:"Neprijavljen"}),t("SET_LOGGEDIN",!1)},fetchLoggedInUser:function(e){var t=e.commit;if(Fr.a.isKey("korisnik")){var r=Fr.a.get("korisnik");t("SET_CURRENT_USER",r),t("SET_LOGGEDIN",!0)}}},Ir={SET_CURRENT_USER:function(e,t){return e.currentUser=t},SET_LOGGEDIN:function(e,t){return e.isLoggedIn=t}},Ur={state:Rr,getters:Tr,actions:zr,mutations:Ir},Er={users:[]},Ar={getAllUsers:function(e){return e.users},getUser:function(e){return function(t){return e.users.filter((function(e){return e.id===t}))[0]}}},Lr={fetchUsers:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,d.a.get("".concat(Mr.getters.getFullServerAddress,"/Korisnik")).then((function(e){return r("SET_USERS",e.data.map((function(e){return e.datumRegistracije=new Date(e.datumRegistracije),e}))),!0})).catch((function(e){return console.log(e),r("SET_USERS",[]),!1}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),updateUser:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,d.a.put("".concat(Mr.getters.getFullServerAddress,"/Korisnik"),r).then((function(e){return!!e.data.successful&&(n("UPDATE_USER",r),!0)})).catch((function(e){return console.log(e),!1}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),deleteUser:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,d.a.delete("".concat(Mr.getters.getFullServerAddress,"/Korisnik?id=").concat(r)).then((function(e){return!!e.data.successful&&(n("DELETE_USER",r),!0)})).catch((function(e){return console.log(e),!1}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},$r={SET_USERS:function(e,t){return e.users=t},UPDATE_USER:function(e,t){var r=e.users.findIndex((function(e){return e.id===t.id}));e.users[r]=t},DELETE_USER:function(e,t){return e.users=e.users.filter((function(e){return e.id!==t}))}},Nr={state:Er,getters:Ar,actions:Lr,mutations:$r};n["a"].use(p["a"]);var Mr=new p["a"].Store({state:{},mutations:{},actions:{},modules:{filmoviModule:hr,themeModule:xr,serverGlobalsModule:Cr,currentUserModule:Ur,usersModule:Nr}}),Br=r("3003");d.a.defaults.withCredentials=!0,n["a"].use(Br["a"]),n["a"].use(Fr.a),n["a"].config.productionTip=!1,new n["a"]({router:dr,store:Mr,vuetify:Or,render:function(e){return e(Oe)}}).$mount("#app")},"60f8":function(e,t,r){"use strict";var n=r("27a1"),a=r.n(n);a.a},"90f5":function(e,t,r){},"963b":function(e,t,r){e.exports=r.p+"img/film-poster-placeholder.d1b4253f.png"},cccb:function(e,t,r){"use strict";var n=r("4230"),a=r.n(n);a.a},d67b:function(e,t,r){"use strict";var n=r("dde3"),a=r.n(n);a.a},dde3:function(e,t,r){}});
//# sourceMappingURL=app.7707d927.js.map